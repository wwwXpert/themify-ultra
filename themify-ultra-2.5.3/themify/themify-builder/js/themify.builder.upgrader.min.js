var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){a!=Array.prototype&&a!=Object.prototype&&(a[d]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var d=0;return $jscomp.iteratorPrototype(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,f={next:function(){if(c<a.length){var e=c++;return{value:d(e,a[e]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill=function(a,d,c,f){if(d){c=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var e=a[f];e in c||(c[e]={});c=c[e]}a=a[a.length-1];f=c[a];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
$jscomp.findInternal=function(a,d,c){a instanceof String&&(a=String(a));for(var f=a.length,e=0;e<f;e++){var g=a[e];if(d.call(c,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
(function(a,d,c,f){function e(b){a(".prompt-box .show-login").show();a(".prompt-box .show-error").hide();a(".prompt-box .prompt-error").remove();"error"===b?a(".prompt-box .prompt-msg").after('<p class="prompt-error">'+themify_lang.invalid_login+"</p>"):"unsuscribed"===b&&a(".prompt-box .prompt-msg").after('<p class="prompt-error">'+themify_lang.unsuscribed+"</p>");a(".prompt-box").addClass("update-plugin");a(".overlay, .prompt-box").fadeIn(500)}function g(){a(".overlay, .prompt-box").fadeOut(500)}
function k(b){"error"===b?(b="error",a(".overlay, .prompt-box").delay(900).fadeIn(500),a(".prompt-box .show-error").show(),a(".prompt-box .show-error p").remove(),a(".prompt-box .error-msg").after('<p class="prompt-error">undefined</p>'),a(".prompt-box .show-login").hide()):b="done";a(".alert").removeClass("busy").addClass(b).delay(800).fadeOut(800,function(){a(this).removeClass(b)})}function l(){var b=a("#builder-regenerate-css-files");b.click(function(){var c=b.attr("data-files");if(""==c)alert("No CSS files to regenerate!");
else{b.attr("value","Regenerating ...");b.attr("disabled","disabled");var c=JSON.parse(c),d=1,e;for(e in c)a.ajax({url:tb_updater_js_vars.ajax_url,type:"post",data:{action:"themify_regenerate_css_files_ajax",files:JSON.stringify(c[e]),group_number:d,total_groups:Object.keys(c).length,nonce:tb_updater_js_vars.nonce},success:function(a){"finished"==a&&(b.removeAttr("disabled"),b.attr("value","Regenerate CSS Files"))}}),d++}})}function m(){a.ajax({url:ajaxurl,type:"post",data:{action:"themify_get_builder_posts",
from_ajax:!0,nonce:themify_js_vars.nonce},success:function(b){b=JSON.parse(b);if(""==b.posts)alert("No builder data found!"),b=a("#builder-find-and-replace-btn-plugin"),b.removeAttr("disabled"),b.attr("value","Replace");else for(var c=a("#original_string").val(),d=a("#replace_string").val(),e=1;e<=b.groups;e++)n({group:e,total:b.groups,originalString:c,replaceString:d})}})}function p(){var b=a("#builder-find-and-replace-btn-plugin");b.click(function(){""===a("#original_string").val()?alert("Please fill original value for search!"):
confirm("WARNING: This will replace all data in your database. It can not be undone. Please backup your database before proceeding.")&&(b.attr("value","Replacing ..."),b.attr("disabled","disabled"),m())})}function n(b){a.ajax({url:ajaxurl,type:"post",data:{action:"themify_find_and_replace_ajax",group_number:b.group,total_groups:b.total,original_string:b.originalString,replace_string:b.replaceString,nonce:themify_js_vars.nonce},success:function(b){if(-1!==b.indexOf("finished-")){var c=a("#builder-find-and-replace-btn-plugin");
c.removeAttr("disabled");c.attr("value","Replace");b=b.replace("finished-","");alert("Replace operation was completed successfully. "+b+" strings found and replaced.")}}})}function q(){function b(){d.removeEventListener("click",b);var c=this;a.ajax({url:ajaxurl,type:"POST",data:{action:"tb_load_maintenance_pages",nonce:themify_js_vars.nonce},success:function(a){c.innerHTML=a}})}function e(){var a=c.getElementById("tools_maintenance_mode");c.getElementsByClassName("tb_maintenance_page")[0].style.display=
a.checked?"block":"none"}var d=c.getElementById("tools_maintenance_page");null!==d&&d.addEventListener("click",b);var f=c.getElementById("tools_maintenance_mode");null!==f&&(f.addEventListener("change",e),e())}var h;a(function(){a(".tb_upgrade_plugin").on("click",function(b){b.preventDefault();a(".themify-builder-upgrade-plugin").removeClass("themify-builder-upgrade-plugin");h=a(this).addClass("themify-builder-upgrade-plugin");e()});(function(){var b=d.location.search;-1<b.indexOf("tfplugin")&&(b=
b.match(/tfplugin=([^&,#]+)/),b[1]&&(b=b[1],a(".tb_upgrade_plugin[data-plugin*="+b+"]").trigger("click")))})();a(".tb_upgrade_login").on("click",function(b){b.preventDefault();if(a(".prompt-box").hasClass("update-plugin")){var c=a(this);b=c.parent().parent().find(".username").val();var d=c.parent().parent().find(".password").val(),c=c.closest(".notifications").find(".update").hasClass("login");""!==b&&""!==d?(g(),a(".alert").addClass("busy").fadeIn(800),a.post(ajaxurl,{action:"themify_builder_validate_login",
type:"plugin",login:c,username:b,password:d,nicename_short:h.data("nicename_short"),update_type:h.data("update_type")},function(b){b=a.trim(b);"true"===b?(k(),a("#themify_update_form").append('<input type="hidden" name="plugin" value="'+h.data("plugin")+'" /><input type="hidden" name="package_url" value="'+h.data("package_url")+'" />').submit()):"unsuscribed"===b?(k("error"),e("unsuscribed")):(k("error"),e("error"))})):(k("error"),e("error"))}});a(".overlay").on("click",function(){g()});a(c).ready(function(){l();
p();q()})})})(jQuery,window,document);
