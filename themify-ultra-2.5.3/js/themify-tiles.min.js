var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,e){a instanceof String&&(a=String(a));for(var d=a.length,c=0;c<d;c++){var g=a[c];if(b.call(e,g,c,a))return{i:c,v:g}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,e,d){if(b){e=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var c=a[d];c in e||(e[c]={});e=e[c]}a=a[a.length-1];d=e[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6-impl","es3");
(function(a){a.themify_tiles={resizeParent:function(a){var b=a.children(".post"),d=b.last();a.css("height",d.outerHeight(!0)+d.css("position","absolute").position().top);setTimeout(function(){a[0].classList.contains("auto_tiles")?(b.css({position:"absolute",opacity:1}),a.css("height",d.outerHeight(!0)+d.position().top).addClass("loading-finish").removeClass("tiles_resing").triggerHandler("auto_tiles_ready.themify")):a.data("themify_tiles")&&a.destroy()},Math.round(1E3*parseFloat(a.css("transition-duration")))+
300)},setBackstretch:function(b,e){if("undefined"!==typeof a.fn.backstretch&&"undefined"!==typeof a.fn.imagesLoaded){var d=imagesLoaded(e),c=function(){d.off("always",c);e.find(".post:visible").each(function(){var c=a(this).find(".post-image"),b=c.find("img"),d=b.prop("src");d&&(c.backstretch(d),d=c.find("a"),d.remove(),b.remove(),c.find("img").wrap(d))})};d.once("always",c)}}};setClasses=function(b,e){b.each(function(){var b=a(this).width(),c=a(this).height();b-10<=e?b===c?this.classList.add("tiled-square-small"):
c>b&&this.classList.add("tiled-portrait"):b>e&&(b>c?this.classList.add("tiled-landscape"):this.classList.add("tiled-square-large"))})};a.fn.extend({grids:{},grid:!1,curr_large_template:!1,small_screen_grid:!1,opts:{},using_small:!1,SetTemplateByCount:function(a,e,d){d=0<d?d:a.children(".post:visible").length;a=[];if(e[d])return e[d];if(10<d){var c=13<d?13:10,b=d%c,k=parseInt(d/c);if(0<k)for(var c=e[c],h=0;h<k;++h)for(var l in c)a.push(c[l]);if(0<b)for(h in e[b])a.push(e[b][h])}return 10<d?a:e[d]},
destroy:function(){a(this).find(".post").each(function(){var b=a(this).removeAttr("style").find(".post-image").first().removeAttr("style").find(".backstretch").first();0<b.length&&(b.find("img").first().removeAttr("style"),b[0].parentNode.innerHTML=b[0].innerHTML)}).removeData("themify_tiles");this.grid=null;this.tiles=[]},update:function(){var b=a(this).children(".post:visible");this.grid.tiles=[];var e=this.SetTemplateByCount(this,this.opts.grids[this.opts.default_grid],b.length);this.curr_large_template=
Tiles.Template.fromJSON(e);this.grid.template=this.get_template();this.grid.isDirty=!0;this.grid.updateTiles(b);this.grid.redraw(this.opts.animate_template,a.themify_tiles.setBackstretch,a(this))},onresize:function(b,e){a.themify_tiles.resizeParent(e);a.themify_tiles.setBackstretch(b,e)},get_template:function(){var b;this.curr_large_template||(this.curr_large_template=this.grids[this.opts.default_grid]);return this.opts.breakpoint?(b=a(this).width()<this.opts.breakpoint)&&!this.using_small?(this.using_small=
!0,this.small_screen_grid):!b&&this.using_small?(this.using_small=!1,this.curr_large_template):b?this.small_screen_grid:this.curr_large_template:this.curr_large_template},themify_tiles:function(b,e){var d=a(this),c=this,g=!1;if(d[0].classList.contains("auto_tiles")){b.breakpoint&&b.small_screen_grid&&(this.small_screen_grid=Tiles.Template.fromJSON(b.small_screen_grid));var k=d.children(".post");this.opts=b;var h=a.extend(!0,{},b.grids),g=h[b.default_grid]=this.SetTemplateByCount(d,h[b.default_grid],
k.length);a.each(h,function(a){c.grids[a]=Tiles.Template.fromJSON(this)});this.grid=a.extend(new Tiles.Grid(d),{cellPadding:parseInt(c.opts.padding),template:c.get_template(),templateFactory:{get:function(a,b){for(var d=c.get_template().copy(),e=d.rects.length,f=b-e;0<f;){var l=[];if(f<=e)l=d.rects,f=0;else{for(var g=0;g<e;++g)l.push(d.rects[g].copy());f-=e}d.append(new Tiles.Template(l,d.numCols,d.numRows))}return d}},resizeColumns:function(){return this.template.numCols},createTile:function(a){a=
new Tiles.Tile(a.id,a);a.$el.find(".post-image img").css("opacity","0");return a}});this.grid.updateTiles(k);this.grid.redraw(this.opts.animate_init,this.onresize,this);d.off("infiniteloaded.themify").on("infiniteloaded.themify",function(b,h){a("#infscr-loading").remove();if(0<h.closest(".auto_tiles").length){var l="undefined"!==typeof LayoutAndFilter?LayoutAndFilter.filterActive:!1;l&&(LayoutAndFilter.filterActive=!1);var k=g[g.length-1],f=c.SetTemplateByCount(d,c.opts.grids[c.opts.default_grid],
h.length),f=a.extend(!0,{},f);if(k===f[0]){for(var r=f[0].length-1,n={},t="XYZVTFK".split(""),m=0;m<r;++m){var p=f[0].charAt(m);"."!==p&&(n[p]=t[m])}for(var q in n)f[0]=f[0].replace(new RegExp(q,"g"),n[q]);f[1]&&f[1]===k&&(f[1]=f[0])}for(var u in f)g.push(f[u]);c.curr_large_template=Tiles.Template.fromJSON(g);k=d.children(".post");c.grid.tiles=[];c.grid.updateTiles(k);c.grid.template=c.get_template();c.grid.isDirty=!0;c.grid.redraw(c.opts.animate_template,c.onresize,c);l&&(LayoutAndFilter.filterActive=
l);setClasses(h,e)}}).data("themify_tiles",this);a(window).on("tfsmartresize",function(a){a.isTrigger||setTimeout(function(){c.grid.template=c.get_template();c.grid.isDirty=!0;c.grid.resize();c.addClass("tiles_resing");c.grid.redraw(b.animate_resize,c.onresize,c)},100)})}}})})(jQuery);
