var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(m,q,r){m instanceof String&&(m=String(m));for(var w=m.length,u=0;u<w;u++){var f=m[u];if(q.call(r,f,u,m))return{i:u,v:f}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(m,q,r){m!=Array.prototype&&m!=Object.prototype&&(m[q]=r.value)};$jscomp.getGlobal=function(m){return"undefined"!=typeof window&&window===m?m:"undefined"!=typeof global&&null!=global?global:m};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(m,q,r,w){if(q){r=$jscomp.global;m=m.split(".");for(w=0;w<m.length-1;w++){var u=m[w];u in r||(r[u]={});r=r[u]}m=m[m.length-1];w=r[m];q=q(w);q!=w&&null!=q&&$jscomp.defineProperty(r,m,{configurable:!0,writable:!0,value:q})}};$jscomp.polyfill("Array.prototype.find",function(m){return m?m:function(m,r){return $jscomp.findInternal(this,m,r).v}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(m){return $jscomp.SYMBOL_PREFIX+(m||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var m=$jscomp.global.Symbol.iterator;m||(m=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[m]&&$jscomp.defineProperty(Array.prototype,m,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(m){var q=0;return $jscomp.iteratorPrototype(function(){return q<m.length?{done:!1,value:m[q++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(m){$jscomp.initSymbolIterator();m={next:m};m[$jscomp.global.Symbol.iterator]=function(){return this};return m};$jscomp.iteratorFromArray=function(m,q){$jscomp.initSymbolIterator();m instanceof String&&(m+="");var r=0,w={next:function(){if(r<m.length){var u=r++;return{value:q(u,m[u]),done:!1}}w.next=function(){return{done:!0,value:void 0}};return w.next()}};w[Symbol.iterator]=function(){return w};return w};
$jscomp.polyfill("Array.prototype.keys",function(m){return m?m:function(){return $jscomp.iteratorFromArray(this,function(m){return m})}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.findIndex",function(m){return m?m:function(m,r){return $jscomp.findInternal(this,m,r).i}},"es6-impl","es3");
$jscomp.checkStringArgs=function(m,q,r){if(null==m)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(q instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return m+""};
$jscomp.polyfill("String.prototype.endsWith",function(m){return m?m:function(m,r){var q=$jscomp.checkStringArgs(this,m,"endsWith");m+="";void 0===r&&(r=q.length);for(var u=Math.max(0,Math.min(r|0,q.length)),f=m.length;0<f&&0<u;)if(q[--u]!=m[--f])return!1;return 0>=f}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.values",function(m){return m?m:function(){return $jscomp.iteratorFromArray(this,function(m,r){return r})}},"es6","es3");
(function(m,q,r,w,u,f,J){function O(c){function e(a){var b="",d;for(d in a)b+=a[d];u.body.insertAdjacentHTML("beforeend",b);c&&c()}if(f.Forms.LayoutPart.init)c&&c();else{var a=function(){if(themifyBuilder.debug)return!1;try{var a=localStorage.getItem("tb_visual_templates"),b="";if(!a)return!1;var a=JSON.parse(a),c;for(c in themifyBuilder.modules)b+=c;return a.ver.toString()!==tbLocalScript.version.toString()||a.h!==q.hash(b)?!1:a.val}catch(h){}return!1}();a?e(a):m.ajax({type:"POST",url:themifyBuilder.ajaxurl,
dataType:"json",data:{action:"tb_load_visual_templates",tb_load_nonce:themifyBuilder.tb_load_nonce},success:function(a){if(a){e(a);try{var b="",d;for(d in themifyBuilder.modules)b+=d;var c={val:a,ver:tbLocalScript.version,h:q.hash(b)};localStorage.setItem("tb_visual_templates",JSON.stringify(c))}catch(g){}}}})}}function P(){for(var c=w.document.getElementsByClassName("tb_middle_bar"),e=function(a){var b=a.clientX,d="tb_right_bar"===this.id?"right":"left",c=tbLocalScript.breakpoints,e=f.toolbar.$el.width(),
n=f.iframe.css("transition","none").width(),p=w.document.getElementsByClassName("tb_vertical_change_tooltip")[0],k=w.document.getElementsByClassName("tb_vertical_bars")[0],t=u.createElement("div");t.className="tb_mousemove_cover";void 0!==p&&p.parentNode.removeChild(p);p=u.createElement("div");p.className="tb_vertical_change_tooltip";this.appendChild(p);k.appendChild(t);k.className+=" tb_resizing_start";f.iframe[0].classList.add("tb_resizing_start");var v=m(r),x=function(a){a=a.clientX-b;a*=2;"left"===
d&&(a=-a);var l=320>n+a?320:n+a;l<=c.mobile?a="mobile":l<=c.tablet[1]?a="tablet":l<=c.tablet_landscape[1]?a="tablet_landscape":(a="desktop",l>e-17&&(l=e));p.textContent=l+"px";f.iframe.css("width",l);f.activeBreakPoint!==a&&ThemifyConstructor.lightboxSwitch(a)};t.addEventListener("mousemove",x,{passive:!0});t.addEventListener("mouseup",function E(a){t.removeEventListener("mousemove",x,{passive:!0});t.removeEventListener("mouseup",E,{once:!0,passive:!0});t.parentNode.removeChild(t);p.parentNode.removeChild(p);
f.iframe.css("transition","");k.classList.remove("tb_resizing_start");f.iframe[0].classList.remove("tb_resizing_start");f.Utils._onResize(!0);v.triggerHandler("tfsmartresize.tbfullwidth");v.triggerHandler("tfsmartresize.tfVideo")},{once:!0,passive:!0})},a=c.length-1;-1<a;--a)c[a].addEventListener("mousedown",e,{passive:!0});c=null}var K=[],L=[],M={};f.mode="visual";f.iframe="";f.id="";f.is_ajax_call=!1;f.Mixins.Frontend={render_visual:function(c){var e={},a=this.el.querySelectorAll("[data-cid]"),
a=Array.prototype.slice.call(a);a.unshift(this.el);for(var d=0,b=a.length;d<b;++d){var l=f.Models.Registry.lookup(a[d].getAttribute("data-cid"));l&&(e[l.cid]=l.toJSON())}f.bootstrap(e,c)},change_callback:function(){var c=this.$el;c[0].insertAdjacentHTML("afterbegin",'<span class="sp-preloader tb_preview_component"></span>');this.render_visual(function(){c.find(".tb_preview_component").remove();f.Utils.setCompactMode(c[0].getElementsByClassName("module_column"));var e="row"===f.eventName?c.data("cid"):
f.beforeEvent.data("cid");f.undoManager.push(e,f.beforeEvent,c,f.eventName);f.Mixins.Builder.update(c)})},createEl:function(c){var e=this.model.get("elType"),a=u.createElement("div");a.innerHTML=c;c=a.getElementsByClassName("module_"+e)[0];for(var d=c.classList,b=c.attributes,a=0,l=d.length;a<l;++a)this.el.classList.add(d[a]);for(a=b.length-1;-1<a;--a)"class"!==b[a].name&&(d=b[a].name,this.el.setAttribute(d,b[a].value),0===d.indexOf("data-")&&this.$el.data(d.replace("data-",""),b[a].value));var d=
c.getElementsByClassName("builder_row_cover")[0],l=c.getElementsByClassName("tbp_dc_styles")[0],b=c.getElementsByClassName(e+"-slider")[0],h=c.getElementsByClassName("tb_row_frame");if(void 0!==h[0]&&h[0].parentNode===c){for(var g=u.createDocumentFragment(),f=this.el.getElementsByClassName("tb_row_frame"),a=f.length-1;-1<a;--a)f[a].parentNode.removeChild(f[a]);for(a=h.length-1;-1<a;--a)h[a].parentNode===c&&g.appendChild(h[a].cloneNode());this.el.insertBefore(g,this.el.firstChild)}void 0!==l&&l.parentNode===
c&&(a=this.el.getElementsByClassName("tbp_dc_styles")[0],void 0!==a?this.el.replaceChild(l,a):this.el.appendChild(l));void 0!==d&&d.parentNode===c&&(a=this.el.getElementsByClassName("builder_row_cover")[0],void 0!==a?this.el.replaceChild(d,a):this.el.insertAdjacentElement("afterbegin",d));void 0!==b&&b.parentNode===c&&(e=this.el.getElementsByClassName(e+"-slider")[0],void 0!==e?this.el.replaceChild(b,e):this.el.insertAdjacentElement("afterbegin",b))},restoreHtml:function(c){var e=u.createElement("div");
e.innerHTML=c;c=m(e.firstChild);var e=f.liveStylingInstance.$liveStyledElmt,a=c[0].querySelectorAll("[data-cid]"),a=Array.prototype.slice.call(a);a.unshift(c[0]);for(var d=a.length-1;-1<d;--d){var b=f.Models.Registry.lookup(a[d].getAttribute("data-cid"));b&&b.trigger("change:view",a[d])}e.replaceWith(c);f.Mixins.Builder.update(c)}};f.previewVisibility=function(){var c=this.$el,e="row"===this.model.get("elType")?this.model.get("styling"):this.model.get("mod_settings");if(f.isPreview){"hide_all"===
e.visibility_all?c.addClass("hide-all"):("hide"===e.visibility_desktop&&c.addClass("hide-desktop"),"hide"===e.visibility_tablet&&c.addClass("hide-tablet"),"hide"===e.visibility_tablet_landscape&&c.addClass("hide-tablet_landscape"),"hide"===e.visibility_mobile&&c.addClass("hide-mobile"));var a=!1;_.isEmpty(e.custom_parallax_scroll_speed)||(a=!0,c[0].dataset.parallaxElementSpeed=parseInt(e.custom_parallax_scroll_speed));_.isEmpty(e.custom_parallax_scroll_reverse)||(c[0].dataset.parallaxElementReverse=
!0);_.isEmpty(e.custom_parallax_scroll_fade)||(c[0].dataset.parallaxFade=!0);a&&q.parallaxScrollingInit(c,!0)}else c.removeClass("hide-desktop hide-tablet hide-tablet_landscape hide-mobile hide-all")};_.extend(f.Views.BaseElement.prototype,f.Mixins.Frontend);f.Views.register_row({initialize:function(){this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"visual:change",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml);f.vent.on("dom:preview",
f.previewVisibility.bind(this))}});f.Views.register_subrow({initialize:function(){this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"visual:change",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml)}});f.Views.register_column({initialize:function(){this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"visual:change",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml)}});
f.Views.register_module({_jqueryXhr:!1,templateVisual:function(c){return wp.template("builder-"+this.model.get("mod_name")+"-content")(c)},initialize:function(){this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"visual:change",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml);this.listenTo(this.model,"custom:preview:live",this.previewLive);this.listenTo(this.model,"custom:preview:refresh",this.previewReload);f.vent.on("dom:preview",
f.previewVisibility.bind(this))},createEl:function(c){var e=u.createElement("div"),a=u.createElement("div"),d=u.createElement("div"),b=u.createElement("div"),l=u.createElement("div"),h=this.model.get("mod_name");e.innerHTML=c;var g=e.getElementsByClassName("module")[0],e=c=null;if(void 0===g)return f.is_ajax_call||(f.Models.Registry.remove(this.model.cid),this.model.destroy()),!1;l.className="tb_visibility_hint";this.el.innerHTML=g.innerHTML;this.el.appendChild(l);f.Utils.visibilityLabel(this.el);
a.className="tb_data_mod_name";a.innerHTML=themifyBuilder.modules[h].name;d.className="tb_column_btn_plus tb_module_btn_plus tb_disable_sorting";b.className="tb_action_wrap tb_module_action";this.el.appendChild(b);this.el.appendChild(a);this.el.appendChild(d);c=g.attributes;g=d=d=null;this.el.className=this.attributes()["class"];d="tb_"+this.model.get("element_id");for(g=c.length-1;-1<g;--g)if("class"===c[g].name)for(e=c[g].value.split(" "),a=e.length-1;-1<a;--a)e[a]=e[a].trim(),d!==e[a]&&""!==e[a]&&
this.el.classList.add(e[a]);else e=c[g].name,this.el.setAttribute(e,c[g].value),0===e.indexOf("data-")&&this.$el.data(e.replace("data-",""),c[g].value);"image"===h&&!0===q.is_builder_loaded&&!1===f.id&&setTimeout(function(){f.Utils.checkImageSize(this.el);f.Utils.calculateHeight()}.bind(this),500);c=null},shortcodeToHTML:function(c){function e(b){void 0!==a._shortcodeXhr&&4!==a._shortcodeXhr&&a._shortcodeXhr.abort();a._shortcodeXhr=m.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_render_element_shortcode",
shortcode_data:JSON.stringify(b),tb_load_nonce:themifyBuilder.tb_load_nonce},success:function(b){if(b.success){var d=b.data.shortcodes,c=b.data.styles;if(c){b=0;for(var l=c.length;b<l;++b)q.LoadCss(c[b].s,c[b].v,null,c[b].m)}b=0;for(l=d.length;b<l;++b)c=q.hash(d[b].key),a.$el.find(".tmp"+c).replaceWith(d[b].html),K[c]=d[b].html,q.is_builder_loaded&&f.Utils.loadContentJs(a.$el,"module")}}})}for(var a=this,d=[],b=!1,l=themifyBuilder.available_shortcodes,h=0,g=l.length;h<g;++h)c=wp.shortcode.replace(l[h],
c,function(a){a=wp.shortcode.string(a);var c=q.hash(a);void 0===K[c]?(d.push(a),a='<span class="tmp'+c+'">[loading shortcode...]</span>'):a=K[c];b=!0;return a});b&&0<d.length&&e(d);return{content:c,found:b}},previewLive:function(c,e,a,d,b){f.is_ajax_call=!1;this._jqueryXhr&&4!==this._jqueryXhr&&this._jqueryXhr.abort();var l=null!==f.activeModel&&d,h=300;c.cid=a?a:f.activeModel.cid;if(!l||!0===e){var g=this.templateVisual(c);if(f.is_ajax_call)return;!0===e&&(c=this.shortcodeToHTML(g),c.found&&(h=1E3,
g=c.content,l=null))}if(l){a=d.length;if(void 0===a)d.innerHTML=b;else for(l=0;l<a;++l)d[l].innerHTML=b;f.Utils.calculateHeight()}else if(this.createEl(g),a)f.Utils.calculateHeight();else{f.liveStylingInstance.$liveStyledElmt=this.$el;var n=this;this.timeout&&clearTimeout(this.timeout);this.timeout=setTimeout(function(){f.Utils.loadContentJs(n.$el,"module");f.Utils.calculateHeight()},h)}},previewReload:function(c,e,a){function d(a){l.createEl(a);f.liveStylingInstance.$liveStyledElmt=l.$el;f.Utils.loadContentJs(l.$el,
"module");l.$el.find(".tb_preview_component").remove();f.Utils.calculateHeight()}if(e&&f.activeModel.cid&&a){c=e.length;if(void 0===c)e.innerHTML=a;else for(var b=0;b<c;++b)e[b].innerHTML=a;f.Utils.calculateHeight()}else{var l=this;this._jqueryXhr&&4!==this._jqueryXhr&&this._jqueryXhr.abort();f.is_ajax_call=!0;e=this.model.get("mod_name");a=c.unsetKey;l.el.insertAdjacentHTML("afterbegin",'<span class="tb_preview_component sp-preloader"></span>');delete c.cid;delete c.unsetKey;delete c.element_id;
c=f.Utils.clear(c);c["module_"+e+"_slug"]=1;c=JSON.stringify(c);var h=q.hash(c);if(void 0===L[h]||a)return this._jqueryXhr=m.ajax({type:"POST",url:themifyBuilder.ajaxurl,data:{action:"tb_load_module_partial",tb_post_id:themifyBuilder.post_ID,tb_cid:this.model.cid,element_id:this.model.get("element_id"),tb_module_slug:e,tb_module_data:c,tb_load_nonce:themifyBuilder.tb_load_nonce},success:function(a){L[h]=a;d(a);f.is_ajax_call=l._jqueryXhr=!1},error:function(){l.$el.removeClass("tb_preview_loading")}}),
this;d(L[h])}}});f.bootstrap=function(c,e,a){var d=[],b=!0;c||(b=!1,c=f.Models.Registry.items);for(var l in c){c=f.Models.Registry.items[l];var h=c.toJSON(),g=h.elType,n=h["module"===g?"mod_settings":"styling"];if(n&&0<Object.keys(n).length)!0===b&&f.liveStylingInstance.setCss([h],"module"===g?h.mod_name:g);else if("module"!==g)continue;if("module"===g&&"tile"!==h.mod_name&&void 0===h.mod_settings.__dc__&&"ajax"!==themifyBuilder.modules[h.mod_name].type)c.trigger("custom:preview:live",h.mod_settings,
"accordion"===h.mod_name||"box"===h.mod_name||"feature"===h.mod_name||"tab"===h.mod_name||"text"===h.mod_name||"plain-text"===h.mod_name||"pointers"===h.mod_name||"pro-image"===h.mod_name||"countdown"===h.mod_name||"button"===h.mod_name||"pro-slider"===h.mod_name||"timeline"===h.mod_name,l);else{if("column"===g)delete h.modules;else if("row"===g||"module"===g||"subrow"===g){if("row"===g&&"tb-page-break"===n.custom_css_row)continue;delete h.cols}d.push({jobID:l,data:h})}}this.batch_rendering(d,0,360,
e,a)};f.batch_rendering=function(c,e,a,d,b){if(e>=c.length)"function"===typeof d&&d.call(this),f.toolbar.pageBreakModule.countModules();else{var l=c.slice(e,e+a);this.render_element(l,b).done(function(){f.batch_rendering(c,e+=a,a,d)})}};f.render_element=function(c,e){var a={action:"tb_render_element",tmpGS:e?JSON.stringify(e):"",batch:JSON.stringify(c),tb_load_nonce:themifyBuilder.tb_load_nonce,tb_post_id:themifyBuilder.post_ID};return m.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",
data:a,success:function(a){for(var b in a)f.Models.Registry.lookup(b).trigger("create:element",a[b])}})};f.render=function(){O(function(){for(var c=u.getElementsByClassName("themify_builder_content"),e=themifyBuilder.post_ID,a=null,d=c.length-1;-1<d;--d)c[d].getAttribute("data-postid")!=e?c[d].classList.add("not_editable_builder"):null===a&&(a=c[d],a.setAttribute("id","themify_builder_content-"+e),a.setAttribute("data-postid",e),a.classList.remove("not_editable_builder"),a.classList.add("tb_active_builder"));
c=null;c=r["builderdata_"+e]?r["builderdata_"+e].data:[];c=Array.isArray(c)&&0!==c.length?c.filter(function(a){return a&&0<Object.keys(a).length}):{};r["builderdata_"+e]=null;f.id=e;f.Instances.Builder[f.builderIndex]=new f.Views.Builder({el:a,collection:new f.Collections.Rows(c),type:f.mode});f.Instances.Builder[f.builderIndex].render();c=null;f.bootstrap(null,function(){ThemifyStyles.init(ThemifyConstructor.data,ThemifyConstructor.breakpointsReverse,e);f.liveStylingInstance=new N;f.liveStylingInstance.setCss(f.Mixins.Builder.toJSON(f.Instances.Builder[0].el));
f.toolbar.el.style.display="block";w.jQuery("body").trigger("themify_builder_ready");f.Utils.loadContentJs();w.document.body.insertAdjacentHTML("beforeend",themifyBuilder.data);themifyBuilder.data=null;q.is_builder_loaded=!0;f.Instances.Builder[f.builderIndex].$el.triggerHandler("tb_init");setTimeout(P,2E3);f.id=!1;setTimeout(function(){f.Utils.checkAllimageSize();f.EdgeDrag.init()},500)})})};q.body.one("builderiframeloaded.themify",function(c,e){f.iframe=m(e);setTimeout(function(){q.LoadCss(tbLocalScript.builder_url+
"/css/animate.min.css")},1);J.setToolbar();f.toolbar=new f.Views.Toolbar({el:"#tb_toolbar"});f.toolbar.render();f.GS.init();q.LoadAsync(tbLocalScript.builder_url+"/js/themify-constructor.js",function(){ThemifyConstructor.getForms(f.render)},null,null,function(){return"undefined"!==typeof ThemifyConstructor});setTimeout(function(){w.Themify.LoadCss(themify_vars.url+"/fontawesome/css/font-awesome.min.css",themify_vars.version)},10)});var N=function(c){function e(){this.$context=c("#tb_lightbox_parent",
w.document);this.prefix;this.type;this.group;this.styleTab;this.styleTabId;this.$liveStyledElmt=this.isChanged=this.currentField=null;this.module_rules={};this.rulesCache={};this.tempData;this.undoData;this.currentStyleObj={};this.currentSheet}e.prototype.init=function(a,d){var b=f.activeModel.get("element_id");this.type=f.activeModel.get("elType");this.group="module"===this.type?f.activeModel.get("mod_name"):this.type;if(!0===d&&null!==f.GS.previousModel){b=f.Models.Registry.lookup(f.GS.previousModel);
var l=b.get("elType");"module"===l&&(l=b.get("mod_name"));b=b.get("element_id")}else l=this.group;this.prefix=ThemifyStyles.getBaseSelector(l,b);console.log(this.prefix);this.$liveStyledElmt=c(u.querySelector(this.prefix));this.currentStyleObj={};this.tempData={};this.undoData={};this.undoData[f.activeBreakPoint]={};this.tempData[f.activeBreakPoint]={};void 0===this.rulesCache[f.activeBreakPoint]&&(this.rulesCache[f.activeBreakPoint]={});this.currentSheet=this.getSheet(f.activeBreakPoint,d);!0!==
a&&("column"!==this.type&&"subrow"!==this.type&&this.bindAnimation(),this.bindTabsSwitch(),this.initModChange())};e.prototype.setCss=function(a,d,b){a=f.GS.createCss(a,d,void 0);d=[];for(var c in a)if("fonts"===c||"cf_fonts"===c)for(var e in a[c]){var g=e;0<a[c][e].length&&(g+=":"+a[c][e].join(","));d.push(g)}else if("gs"===c){var n=a[c],p;for(p in n){var k=this.getSheet(p,!0);g=k.cssRules?k.cssRules:k.rules;for(var t in n[p])!1===this.findIndex(g,t)&&k.insertRule(t+"{"+n[p][t].join("")+";}",g.length)}}else for(t in k=
this.getSheet(c,b),g=k.cssRules?k.cssRules:k.rules,a[c])!1===this.findIndex(g,t)&&k.insertRule(t+"{"+a[c][t].join("")+";}",g.length);ThemifyConstructor.font_select.loadGoogleFonts(d.join("|"));return a};e.prototype.findIndex=function(a,d){for(var b=a.length-1;-1<b;--b)if(d===a[b].selectorText.replace(/\s*>\s*/g,">").replace(/\,\s/g,","))return b;return!1};e.prototype.renameProp=function(a){if(void 0===M[a]){var d=a;if(-1!==a.indexOf("-")){var b=a.toLowerCase().split("-");a=b[0]+b[1].charAt(0).toUpperCase()+
b[1].slice(1);void 0!==b[2]&&(a+=b[2].charAt(0).toUpperCase()+b[2].slice(1));void 0!==b[3]&&(a+=b[3].charAt(0).toUpperCase()+b[3].slice(1))}return M[d]=a}return M[a]};e.prototype.setLiveStyle=function(a,d,b){b?"string"===typeof b&&(b=[b]):b=[""];b=ThemifyStyles.getNestedSelector(b);for(var c="",e=this.currentSheet.cssRules?this.currentSheet.cssRules:this.currentSheet.rules,g=0,n=b.length;g<n;++g){var p="h"===this.styleTabId?b[g].endsWith(":after")||b[g].endsWith(":before"):!0;!1===p&&-1===b[g].indexOf(":hover")&&
(b[g]+=":hover");c+=this.prefix+b[g];!1===p&&(c+=","+this.prefix+b[g].replace(":hover",".tb_visual_hover"));g!==n-1&&(c+=",")}if(!0===this.isChanged)if("h"===this.styleTabId)for(n=c.split(","),g=n.length-1;-1<g;--g){if(-1===n[g].indexOf("tb_visual_hover"))for(b=u.querySelectorAll(n[g].split(":hover")[0]),p=b.length-1;-1<p;--p)b[p].classList.add("tb_visual_hover")}else for(this.$liveStyledElmt[0].classList.remove("tb_visual_hover"),b=this.$liveStyledElmt[0].getElementsByClassName("tb_visual_hover"),
g=b.length-1;-1<g;--g)b[g].classList.remove("tb_visual_hover");c=c.replace(/\s{2,}/g," ").replace(/\s*>\s*/g,">").replace(/\,\s/g,",");g=q.hash(c);b=d;n=void 0!==this.rulesCache[f.activeBreakPoint][g]?this.rulesCache[f.activeBreakPoint][g]:this.findIndex(e,c);!1===d&&(d="");p=a;a=this.renameProp(a);!1!==n&&e[n]?(void 0===this.tempData[f.activeBreakPoint][n]&&(this.tempData[f.activeBreakPoint][n]={}),void 0===this.tempData[f.activeBreakPoint][n][a]&&(this.tempData[f.activeBreakPoint][n][a]=e[n].style[a]),
e[n].style[a]=d):(n=e.length,this.currentSheet.insertRule(c+"{"+p+":"+d+";}",n),void 0===this.tempData[f.activeBreakPoint][n]&&(this.tempData[f.activeBreakPoint][n]={}),this.tempData[f.activeBreakPoint][n][a]="");this.rulesCache[f.activeBreakPoint][g]=n;void 0===this.undoData[f.activeBreakPoint][n]&&(this.undoData[f.activeBreakPoint][n]={});this.undoData[f.activeBreakPoint][n][a]={a:d,b:this.tempData[f.activeBreakPoint][n][a]};q.body.triggerHandler("tb_"+this.type+"_styling",[this.group,a,d,b,this.$liveStyledElmt]);
"desktop"===f.activeBreakPoint||0!==a.indexOf("padding")&&0!==a.indexOf("margin")&&"height"!==a&&"width"!==a||f.Utils.calculateHeight()};e.prototype.initModChange=function(a){var d=this;if(!0===a)q.body.off("themify_builder_change_mode.tb_visual_mode");else q.body.on("themify_builder_change_mode.tb_visual_mode",function(a,c,e){d.setMode(e,null!==f.GS.activeGS)})};e.prototype.setMode=function(a,d){void 0===this.tempData[a]&&(this.tempData[a]={});void 0===this.rulesCache[a]&&(this.rulesCache[a]={});
void 0===this.undoData[a]&&(this.undoData[a]={});this.currentSheet=this.getSheet(a,d)};e.prototype.revertRules=function(a){for(var d in this.tempData){var b=this.getSheet(d,a),b=b.cssRules?b.cssRules:b.rules,c;for(c in this.tempData[d])if(b[c])for(var e in this.tempData[d][c])b[c].style[e]=this.tempData[d][c][e]}this.undoData={};this.tempData={}};e.prototype.getSheet=function(a,d){return ThemifyStyles.getSheet(a,d)};e.prototype.reset=function(){this.rulesCache={};this.tempData={};this.undoData={};
for(var a=ThemifyConstructor.breakpointsReverse,d=a.length-1;-1<d;--d){for(var b=this.getSheet(a[d]),c=b.cssRules,c=c.length-1;-1<c;--c)b.deleteRule(c);b=this.getSheet(a[d],!0);c=b.cssRules;for(c=c.length-1;-1<c;--c)b.deleteRule(c)}};e.prototype.clear=function(){var a=this.$liveStyledElmt[0];void 0!==a&&(a.classList.remove("animated"),a.classList.remove("hover-wow"),a.classList.remove("tb_visual_hover"));this.module_rules={};this.styleTab=this.styleTabId=this.currentField=this.isChanged=null;if(!f.saving&&
f.hasChanged)this.revertRules(null!==f.GS.activeGS),this.type&&"module"!==this.type&&null===f.GS.activeGS&&(a=f.activeModel.get("styling"))&&"slider"===a.background_type&&a.background_slider&&this.bindBackgroundSlider();else for(var a=a.getElementsByClassName("tb_visual_hover"),d=a.length-1;-1<d;--d)a[d].classList.remove("tb_visual_hover");this.bindAnimation(!0);this.bindTabsSwitch(!0);this.initModChange(!0);this.undoData={};this.tempData={};console.log(this.$liveStyledElmt);this.$liveStyledElmt=
this.currentStyleObj=this.currentSheet=null};e.prototype.addOrRemoveFrame=function(a,d){if("module"!==this.type){var b=this,e=this.$liveStyledElmt,h="string"===typeof a,g=h?a:a.closest(".tb_tab").id.split("_").pop(),n=e.children(".tb_row_frame_"+g);if(void 0===d){d={};var p=this.getValue(g+"-frame_type").selector;for(var k="custom location width height width_unit height_unit repeat type layout color".split(" "),t=0,m=k.length;t<m;++t){var x=w.document.getElementById(g+"-frame_"+k[t]);if("type"===
k[t])x=x.querySelector("input:checked").value;else if("layout"===k[t])x=x.getElementsByClassName("selected")[0].id;else if("color"===k[t]){if(x=f.Utils.getColor(x),""===x)continue}else x=x.value;d[k[t]]=x}}if(d.type===g+"-presets"||d.type===g+"-custom"){if(d.type===g+"-presets"&&(!d.layout||"none"===d.layout)||d.type===g+"-custom"&&!d.custom){"desktop"===f.activeBreakPoint?h||this.setLiveStyle("background-image","",p):"none"===d.layout&&this.setLiveStyle("background-image","none",p);return}0===n.length?
(n=u.createElement("div"),n.className="tb_row_frame tb_row_frame_"+g,void 0!==d.location&&(n.className+=" "+d.location),e.children(".tb_action_wrap").after(n)):(n.removeClass("behind_content in_front"),void 0!==d.location&&n.addClass(d.location))}if(!h){if(d.type===g+"-presets"){var e="left"===g||"right"===g?d.layout+"-l":d.layout,I=q.hash(e),E=function(a){d.color&&(a=a.replace(/\#D3D3D3/ig,d.color));b.setLiveStyle("background-image",'url("data:image/svg+xml;utf8,'+encodeURIComponent(a)+'")',p)};
void 0!==ThemifyStyles.fields.frameCache[I]?E(ThemifyStyles.fields.frameCache[I]):(h=u.getElementById("tmpl-frame_"+e),null!==h?(ThemifyStyles.fields.frameCache[I]=h.textContent.trim(),h=null,E(ThemifyStyles.fields.frameCache[I])):c.ajax({dataType:"text",url:tbLocalScript.builder_url+"/img/row-frame/"+e+".svg",success:function(a){ThemifyStyles.fields.frameCache[I]=a;E(a)}}))}else b.setLiveStyle("background-image",'url("'+d.custom+'")',p);b.setLiveStyle("width",d.width?d.width+d.width_unit:"",p);b.setLiveStyle("height",
d.height?d.height+d.height_unit:"",p);d.repeat?"left"===g||"right"===g?b.setLiveStyle("background-size","100% "+100/d.repeat+"%",p):b.setLiveStyle("background-size",100/d.repeat+"% 100%",p):b.setLiveStyle("background-size","",p)}}};e.prototype.overlayType=function(a){if("module"!==this.type){var d="color"===a||"hover_color"===a,b=d?"minicolors-input":"themify-gradient-type";a=this.styleTab.getElementsByClassName("tb_group_element_"+a)[0].getElementsByClassName(b)[0];d?((d=a.value)&&(d=f.Utils.getColor(a)),
q.triggerEvent(a,"themify_builder_color_picker_change",{val:d})):q.triggerEvent(a,"change")}};e.prototype.addOrRemoveComponentOverlay=function(a,d,b){if("module"!==this.type){var c=this.getComponentBgOverlay(),e=this.getValue(d),f=e.selector,c=0!==c.length;"h"===this.styleTabId?this.$liveStyledElmt[0].classList.add("tb_visual_hover"):this.$liveStyledElmt[0].classList.remove("tb_visual_hover");""===b&&d?(this.setLiveStyle("backgroundImage","",f),this.setLiveStyle("backgroundColor","",f)):(c||(c=u.createElement("div"),
c.className="builder_row_cover",this.$liveStyledElmt.children(".tb_action_wrap").before(c)),e&&("color"===a?this.setLiveStyle("backgroundImage","none",f):this.setLiveStyle("backgroundColor",!1,f),this.setLiveStyle(e.prop,b,f)))}};e.prototype.bindMultiFields=function(a,d){function b(a,b){if(!1===p&&!1===n){if("row"===e.type&&""===tbLocalScript.fullwidth_support&&(k&&("padding"===b||"margin"===b)||"padding-left"===b||"padding-right"===b||"margin-left"===b||"margin-right"===b)){var d=b.split("-"),h=
f.activeBreakPoint+"-"+d[0];if(k)a=a+","+a;else{var g=e.$liveStyledElmt.data(h),g=g?g.split(","):[];"left"===d[1]?g[0]=a:g[1]=a;a=g.join(",")}e.$liveStyledElmt.attr("data-"+h,a).data(h,a);ThemifyBuilderModuleJs.setupFullwidthRows(e.$liveStyledElmt)}(k&&"padding"===b||0===b.indexOf("padding"))&&setTimeout(function(){c(r).triggerHandler("tfsmartresize.tfVideo")},600)}}var e=this;if(d=e.getValue(a.id)){var h=a.closest(".tb_seperate_items");var g=d.prop.split("-");var n=void 0!==g[3];var p=!1===n&&"border"===
g[0];var k=h.hasAttribute("data-checked");h=h.getElementsByClassName("tb_multi_field");var t=function(a){if(!0===p){var b=a.closest("li");a=parseFloat(b.getElementsByClassName("border_width")[0].value.trim());var d=b.getElementsByClassName("border_style")[0].value;b=f.Utils.getColor(b.getElementsByClassName("minicolors-input")[0]);d="none"===d?d:isNaN(a)||""===a||""===b?"":a+"px "+d+" "+b}else d=a.value.trim(),""!==d&&(d=parseFloat(d),d=isNaN(d)?"":d+a.closest(".tb_input").querySelector("#"+a.id+
"_unit").value);return d},m=!0===k?t(a):null;g=g[0];for(var x=h.length-1;-1<x;--x)!1===k&&(m=t(h[x])),g=e.getValue(h[x].id).prop,e.setLiveStyle(g,m,d.selector),b(m,g);!1===p&&(f.ActionBar.hoverCid=null);h=null}};e.prototype.bindRowWidthHeight=function(a,d,b){b||(b=this.$liveStyledElmt);"row_height"===a?"fullheight"===d?b[0].classList.add(d):b[0].classList.remove("fullheight"):"fullwidth"===d?(b.removeClass("fullwidth").addClass("fullwidth_row_container"),ThemifyBuilderModuleJs.setupFullwidthRows(b)):
"fullwidth-content"===d?(b.removeClass("fullwidth_row_container").addClass("fullwidth"),ThemifyBuilderModuleJs.setupFullwidthRows(b)):b.removeClass("fullwidth fullwidth_row_container").css({"margin-left":"","margin-right":"","padding-left":"","padding-right":"",width:""});c(r).triggerHandler("tfsmartresize.tfVideo")};e.prototype.bindAnimation=function(a){var d=this;if(!0===a)this.$context.off("change.tb_animation");else this.$context.on("change.tb_animation","#animation_effect,#animation_effect_delay,#animation_effect_repeat,#hover_animation_effect",
function(){var a="hover_animation_effect"===this.id,e=a?"hover_animation_effect":"animation_effect",f=a?c(this).val():d.$context.find("#animation_effect").val(),g=void 0!==d.currentStyleObj[e]?d.currentStyleObj[e]:ThemifyConstructor.values[e],n=d.$liveStyledElmt;g&&(a&&(g=g+" hover-wow hover-animation-"+g),n.removeClass(g+" wow").css({"animation-name":"","animation-delay":"","animation-iteration-count":""}));n.removeClass("animated tb_hover_animate");if(d.currentStyleObj[e]=f)a?f="hover-wow hover-animation-"+
f:(e=parseFloat(d.$context.find("#animation_effect_delay").val()),g=parseInt(d.$context.find("#animation_effect_repeat").val()),n.css({"animation-delay":0<e&&!isNaN(e)?e+"s":"","animation-iteration-count":0<g&&!isNaN(g)?g:""})),setTimeout(function(){n.addClass(f+" animated");a&&n.trigger("mouseover")},1)})};e.prototype.getRowAnchorClass=function(a){return 0<a.length?"tb_section-"+a:""};e.prototype.getStylingVal=function(a){return void 0!==this.currentStyleObj[a]?this.currentStyleObj[a]:""};e.prototype.setStylingVal=
function(a,d){this.currentStyleObj[a]=d};e.prototype.bindBackgroundMode=function(a,d){var b={repeat:"repeat","repeat-x":"repeat-x","repeat-y":"repeat-y","repeat-none":"no-repeat","no-repeat":"no-repeat",fullcover:"cover","best-fit-image":"contain","builder-parallax-scrolling":"cover","builder-zoom-scrolling":"100%","builder-zooming":"100%"};if(void 0!==b[a]){var c={},e=this.getValue(d),f=w.document.getElementById(e.origId);null!==f&&""===f.value.trim()?(a=null,c={"background-repeat":"","background-size":"",
"background-position":"","background-attachment":""}):-1!==a.indexOf("repeat")?(c["background-repeat"]=b[a],c["background-size"]="auto"):(c["background-size"]=b[a],c["background-repeat"]="no-repeat","best-fit-image"===b[a]||"builder-zooming"===b[a]?c["background-position"]="center center":"builder-zoom-scrolling"===b[a]&&(c["background-position"]="50%"));this.$liveStyledElmt[0].classList.remove("builder-parallax-scrolling");this.$liveStyledElmt[0].classList.remove("builder-zooming");this.$liveStyledElmt[0].classList.remove("builder-zoom-scrolling");
this.$liveStyledElmt[0].style.backgroundSize=this.$liveStyledElmt[0].style.backgroundPosition="";if("module"!==this.type||"builder-parallax-scrolling"!==a&&"builder-zooming"!==a&&"builder-zoom-scrolling"!==a&&"best-fit-image"!==a){"builder-parallax-scrolling"===a?this.$liveStyledElmt[0].classList.add("builder-parallax-scrolling"):"builder-zooming"===a?this.$liveStyledElmt[0].classList.add("builder-zooming"):"builder-zoom-scrolling"===a&&this.$liveStyledElmt[0].classList.add("builder-zoom-scrolling");
for(var n in c)this.setLiveStyle(n,c[n],e.selector);"builder-zoom-scrolling"===a?ThemifyBuilderModuleJs.backgroundZoom(this.$liveStyledElmt):"builder-zooming"===a?ThemifyBuilderModuleJs.backgroundZooming(this.$liveStyledElmt):"builder-parallax-scrolling"===a&&ThemifyBuilderModuleJs.backgroundScrolling(this.$liveStyledElmt)}}};e.prototype.bindBackgroundPosition=function(a,d){if(a&&0<a.length){var b=this.getValue(d);if(b){var c=a.split(",");this.setLiveStyle(b.prop,c[0]+"% "+c[1]+"%",b.selector)}}};
e.prototype.bindBackgroundSlider=function(a){function d(a){a=c(a);var d=b.getComponentBgOverlay();0<d.length?d.after(a):b.$liveStyledElmt.prepend(a);ThemifyBuilderModuleJs.backgroundSlider(a[0].parentNode)}if("module"!==this.type){var b=this;a=b.$context.find("#"+a.id).val().trim();b.removeBgSlider();if(a){void 0===this.cahce&&(this.cahce={});a={shortcode:encodeURIComponent(a),mode:b.$context.find("#background_slider_mode").val(),speed:b.$context.find("#background_slider_speed").val(),size:b.$context.find("#background_slider_size").val()};
var e="",f;for(f in a)e+=q.hash(f+a[f]);void 0!==this.cahce[e]?d(this.cahce[e]):(a.type=b.type,c.post(themifyBuilder.ajaxurl,{nonce:themifyBuilder.tb_load_nonce,action:"tb_slider_live_styling",tb_background_slider_data:a},function(a){10>a.length||(b.cahce[e]=a,d(a))}))}}};e.prototype.VideoOptions=function(a,d){if("module"!==this.type){var b=this.$liveStyledElmt.find(".big-video-wrap").first(),c=!0===a.checked,e="";void 0!==b[0]&&(b[0].classList.contains("themify_ytb_wrapper")?(b=this.$liveStyledElmt,
e="ytb"):b[0].classList.contains("themify-video-vmieo")?(b=$f(b.children("iframe")[0]))&&(e="vimeo"):(b=this.$liveStyledElmt.data("plugin_ThemifyBgVideo"),e="local"),"mute"===d?c?("ytb"===e?b.ThemifyYTBMute():"vimeo"===e?b.api("setVolume",0):"local"===e&&b.muted(!0),this.$liveStyledElmt.data("mutevideo","mute")):("ytb"===e?b.ThemifyYTBUnmute():"vimeo"===e?b.api("setVolume",1):"local"===e&&b.muted(!1),this.$liveStyledElmt.data("mutevideo","")):"unloop"===d&&(c?("vimeo"===e?b.api("setLoop",0):"local"===
e&&b.loop(!1),this.$liveStyledElmt.data("unloopvideo","")):("vimeo"===e?b.api("setLoop",1):"local"===e&&b.loop(!0),this.$liveStyledElmt.data("unloopvideo","loop"))))}};e.prototype.bindBackgroundTypeRadio=function(a){var d="tb_uploader_input";"module"!==this.type&&("slider"!==a?"n"===this.styleTabId&&this.removeBgSlider():d="tb_shortcode_input","video"!==a&&"n"===this.styleTabId&&this.removeBgVideo());"gradient"!==a?this.setLiveStyle("backgroundImage","none"):d="themify-gradient-type";var b=this.styleTab.getElementsByClassName("tb_group_element_"+
a)[0];q.triggerEvent(b.getElementsByClassName(d)[0],"change");"image"===a&&"module"===this.type&&(d=b.getElementsByClassName("minicolors-input")[0],void 0!==d&&q.triggerEvent(d,"themify_builder_color_picker_change",{val:d.value}))};e.prototype.bindFontColorType=function(a,d,b){if("radio"===b)if(d=-1!==a.indexOf("_solid"),b=!0===d?a.replace(/_solid$/ig,""):a.replace(/_gradient$/ig,"-gradient-type"),b=w.document.getElementById(b),!0===d){a=f.Utils.getColor(b);if(void 0===a||""===a)a="";q.triggerEvent(b,
"themify_builder_color_picker_change",{val:a})}else q.triggerEvent(b,"change");else d=this.getValue(d).selector,"color"===b?void 0===a||""===a?(a="",this.setLiveStyle("WebkitBackgroundClip","",d),this.setLiveStyle("backgroundClip","",d),this.setLiveStyle("backgroundImage","",d)):(this.setLiveStyle("WebkitBackgroundClip","border-box",d),this.setLiveStyle("backgroundClip","border-box",d),this.setLiveStyle("backgroundImage","none",d)):""!==a&&(b="backgroundImage",this.setLiveStyle("color","transparent",
d),this.setLiveStyle("WebkitBackgroundClip","text",d),this.setLiveStyle("backgroundClip","text",d)),""===a&&"color"!==b||this.setLiveStyle(b,a,d)};e.prototype.shadow=function(a,d,b){if(d=this.getValue(d)){a=a.closest(".tb_seperate_items").getElementsByClassName("tb_shadow_field");b="";for(var c=!0,e="",g=0,n=a.length;g<n;++g)if(a[g].classList.contains("tb-checkbox"))b=a[g].checked?"inset ":"";else{var p=a[g].value.trim();"color"===ThemifyConstructor.styles[a[g].id].type?p=f.Utils.getColor(a[g]):""===
p?p=0:(c=!1,p+=a[g].closest(".tb_input").querySelector("#"+a[g].id+"_unit").value);e+=p+" "}this.setLiveStyle(d.prop,!0===c?"":b+e,d.selector)}};e.prototype.filters=function(a,d){for(var b=a.closest(".tb_filters_fields").getElementsByClassName("tb_filters_field"),c="",e,f=0,n=b.length;f<n;++f){var p=b[f].value.trim();""!==p&&(e=this.getValue(b[f].id),p+=b[f].closest(".tb_seperate_items").querySelector("#"+b[f].id+"_unit").textContent,p="hue"===e.prop?"hue-rotate("+p+")":e.prop+"("+p+")",c+=p+" ")}e=
this.getValue(d);this.setLiveStyle("filter",c,e.selector)};e.prototype.setData=function(a,d,b){if(a=this.getValue(a))""===d&&(d=a.prop),this.setLiveStyle(d,b,a.selector)};e.prototype.bindEvents=function(a,d){if(!a.classList.contains("style_apply_all")){var b=this;(function(){var e=d.type,h=d.prop,g=d.id;var n="color"===e?"themify_builder_color_picker_change":"gradient"===e?"themify_builder_gradient_change":"text"===e||"range"===e?"keyup":"change";a.addEventListener(n,function(a){var k=this.classList;
var l="SELECT"===this.tagName;var m=!l&&"radio"===this.type;if(b.currentField!==this.id||""===b.currentField){b.currentField="radio"===this.type?!1:this.id;b.isChanged=!0;b.styleTab=null;b.styleTabId="n";var p=this.closest(".tb_tab");null===p?(p=this.closest(".tb_expanded_opttions"),null===p&&(p=w.document.getElementById("tb_options_styling"))):b.styleTabId=p.id.split("_").pop();b.styleTab=p}else b.isChanged=!1;f.hasChanged=!0;a=a.detail&&a.detail.val?a.detail.val:"frame"===e?this.id:this.value;a=
void 0!==a&&"undefined"!==a?a.trim():"";if("color"===e&&k.contains("border_color")||!0===l&&k.contains("border_style")||"keyup"===n&&(k.contains("border_width")||k.contains("tb_multi_field")))b.bindMultiFields(this);else if("frame-custom"===h||"frame"===e||k.contains("tb_frame"))"module"!==b.type&&b.addOrRemoveFrame(this);else if(k.contains("tb_shadow_field"))b.shadow(this,g);else if(k.contains("tb_filters_field"))b.filters(this,g);else if("keyup"===n)""!==a&&("column-rule-width"===h?(a+="px",k=g.replace("_width",
"_style"),l=w.document.getElementById(k),null!==l&&b.setData(k,"",l.value)):"column-gap"===h?a+="px":(k=w.document.getElementById(g+"_unit"),null!==k&&(a+=k.value?k.value:"px"))),b.setData(g,"",a);else if(!0===d.isFontColor)b.bindFontColorType(a,g,e);else{if(!0===l)if("font-weight"===h)k=this.getAttribute("data-selected"),null!==k&&""!==k&&"default"!==k&&void 0===ThemifyConstructor.font_select.safe[k]&&ThemifyConstructor.font_select.loadGoogleFonts(k+":"+a),l=b.styleTab.getElementsByClassName("tb_multi_fonts")[0],
-1!==a.indexOf("italic")?(a=parseInt(a.replace("italic","")),k=l.querySelector('[value="italic"]')):k=l.querySelector('[value="normal"]'),!1===k.checked&&k.parentNode.click();else if("font_select"===e)""!==a&&"default"!==a&&void 0===ThemifyConstructor.font_select.safe[a]?(k=this.closest(".tb_tab").getElementsByClassName("font-weight-select")[0],l=a,void 0!==k?l+=":"+k.value:b.setLiveStyle("font-weight","",d.selector),ThemifyConstructor.font_select.loadGoogleFonts(l)):"default"===a&&(a=""),""!==a&&
(a=ThemifyStyles.parseFontName(a));else{if(k.contains("tb_unit")){q.triggerEvent(b.$context.find("#"+g.replace("_unit",""))[0],"keyup");return}if("background-mode"===h){b.bindBackgroundMode(a,g);return}if("column-count"===h&&0==a)a="";else if(k.contains("tb_position_field"))for(m=["top","right","bottom","left"],l=this.closest(".tb_input"),k=m.length-1;-1<k;--k)"absolute"===a||"fixed"===a?(p="#"+(d.id+"_"+m[k]),p=!0!==l.querySelector(p+"_auto input").checked?l.querySelector(p).value.trim()+l.querySelector(p+
"_unit").value.trim():"auto"):p="",b.setLiveStyle(m[k],p,d.selector);else if("display"===h){if("none"===a)return!1;"inline-block"===a?b.setLiveStyle("width","auto",d.selector):b.setLiveStyle("width","100%",d.selector)}else"vertical-align"===h&&""!==a&&b.setLiveStyle("align-self","top"===a?"flex-start":"middle"===a?"center":"flex-end",d.selector)}else{if("gallery"===e&&"module"!==b.type){b.bindBackgroundSlider(d);return}if(!0===m){g=this.closest(".tb_lb_option").id;!1===this.checked&&(a="");if("imageGradient"===
e||!0===d.is_background){b.bindBackgroundTypeRadio(a);return}if(!0===d.is_overlay){"module"!==b.type&&b.overlayType(a);return}}else if("color"===e||"gradient"===e){"gradient"===e&&(g=this.dataset.id);if(!0===d.is_overlay){"module"!==b.type&&b.addOrRemoveComponentOverlay(e,g,a);return}"color"===e&&(k=null,"module"===b.type&&void 0!==d.colorId&&void 0!==d.origId?(k=w.document.getElementById(d.origId),null!==k&&"image"!==k.closest(".tb_input").querySelector("input:checked").value&&(k=null)):"module"!==
b.type&&"h"===b.styleTabId&&(k=b.styleTab.getElementsByClassName("tb_uploader_input")[0]),k&&""===k.value.trim()&&b.setLiveStyle("background-image",""!==a?"none":"",d.selector))}else if("image"===e||"video"===e){if("video"===e)return 0<a.length?"module"!==b.type&&(b.$liveStyledElmt.data("fullwidthvideo",a).attr("data-fullwidthvideo",a),_.isEmpty(b.$liveStyledElmt.data("mutevideo"))&&b.$context.find("#background_video_options_mute").is(":checked")&&b.$liveStyledElmt.data("mutevideo","mute"),ThemifyBuilderModuleJs.fullwidthVideo(b.$liveStyledElmt)):
b.removeBgVideo(),!1;a?a="url("+a+")":(a="",void 0!==d.colorId&&"h"===b.styleTabId&&(k=w.document.getElementById(d.colorId),null!==k&&""!==k.value.trim()&&(a="none")));l=b.styleTab.getElementsByClassName("tb_image_options");for(k=l.length-1;-1<k;--k)for(m=l[k].getElementsByClassName("tb_lb_option"),p=m.length-1;-1<p;--p)q.triggerEvent(m[p],"change")}else{if("background-position"===h){b.bindBackgroundPosition(a,g);return}if("checkbox"===e){if(null!==this.closest("#background_video_options")){b.VideoOptions(this,
a);return}if("height"===h&&-1!==g.indexOf("_auto_height")||"width"===h&&-1!==g.indexOf("_auto_width")){a="height"===h?d.heightID:d.widthID;this.checked?b.setData(a,h,"auto"):(k=b.styleTab.querySelector("#"+a).value.trim(),""!==k?b.setData(a,h,k+c(b.styleTab).find("#"+a+"_unit").val()):b.setData(a,h,""));return}if(!0===d.is_position){k="#"+d.posId;l=this.closest(".tb_input");this.checked?a="auto":(a=l.querySelector(k).value.trim(),a=""===a||isNaN(a)?"":a+l.querySelector(k+"_unit").value);b.setLiveStyle(d.prop,
a,d.selector);return}}}}b.setData(g,"",a)}},{passive:!0})})()}};e.prototype.getValue=function(a){return void 0!==this.module_rules[a]?this.module_rules[a]:!1};e.prototype.bindTabsSwitch=function(a){var d=this;if(!0===a)q.body.off("themify_builder_tabsactive.hoverTabs");else q.body.on("themify_builder_tabsactive.hoverTabs",function(a,c,e){if("styling"===ThemifyConstructor.clicked)if("h"!==c.split("_").pop()){d.$liveStyledElmt[0].classList.remove("tb_visual_hover");var b=d.$liveStyledElmt[0].getElementsByClassName("tb_visual_hover");
for(a=b.length-1;-1<a;--a)b[a].classList.remove("tb_visual_hover")}else"module"!==d.type&&(a=e.previousElementSibling.getElementsByClassName("background_type")[0],void 0!==a&&(a=a.querySelector("input:checked").value,"image"===a||"gradient"===a?e.classList.remove("tb_disable_hover"):e.classList.add("tb_disable_hover"))),setTimeout(function(){b=e.getElementsByClassName("tb_lb_option");for(var a=[],c=b.length-1;-1<c;--c){var f=b[c].id,g=b[c].classList.contains("themify-gradient");!0===g&&(f=b[c].dataset.id);
if(void 0!==d.module_rules[f]&&(g||null!==b[c].offsetParent))for(void 0!==d.module_rules[f].is_overlay&&d.$liveStyledElmt[0].classList.add("tb_visual_hover"),f=Array.isArray(d.module_rules[f].selector)?d.module_rules[f].selector:[d.module_rules[f].selector],g=f.length-1;-1<g;--g){var h=f[g].split(":hover")[0];a[h]=1}}b=null;a=Object.keys(a);if(0<a.length)for(c=a.length-1;-1<c;--c)for(b=u.querySelectorAll(d.prefix+a[c]),g=b.length-1;-1<g;--g)b[g].classList.add("tb_visual_hover")},10)})};e.prototype.getComponentBgOverlay=
function(){return this.$liveStyledElmt.children(".builder_row_cover")};e.prototype.getComponentBgSlider=function(){var a="colum"===this.type&&"sub-column"===f.activeModel.get("component_name")?"sub-col":"colum"===this.type?"col":this.type;return this.$liveStyledElmt.children("."+a+"-slider")};e.prototype.removeBgSlider=function(){this.getComponentBgSlider().add(this.$liveStyledElmt.children(".tb_backstretch")).remove();this.$liveStyledElmt.css({position:"",background:"","z-index":""})};e.prototype.removeBgVideo=
function(){this.$liveStyledElmt.removeAttr("data-fullwidthvideo").data("fullwidthvideo","").children(".big-video-wrap").remove()};return e}(jQuery);f.EdgeDrag={modules:null,oneTag:["AREA","EMBED","IMG","INPUT"],disableDrag:null,liveinstance:null,_onDrag:null,init:function(){null===this._onDrag&&(this._onDrag=f.EdgeDrag.drag.bind(this));localStorage.getItem("tb_disable_padding_dragging")?(q.body[0].classList.add("tb_disable_padding_dragging"),f.Instances.Builder[f.builderIndex].el.removeEventListener("mousedown",
this._onDrag),f.toolbar.el.getElementsByClassName("tb_padding_dragging_mode")[0].checked=!1):(f.Instances.Builder[f.builderIndex].el.addEventListener("mousedown",this._onDrag),q.body[0].classList.remove("tb_disable_padding_dragging"))},addEdgesOptions:function(c){var e=c.closest(".tb_dragger");if(void 0===e.getElementsByClassName("tb_dragger_lightbox")[0]){c=e.classList.contains("tb_dragger_margin")?"margin":"padding";var a=["px","em","%"],d=["opposite","all"],b=e.parentNode.children,l=m(e).closest("[data-cid]")[0].getAttribute("data-cid"),
h=null,g=null,n=null,p=this,l=f.Models.Registry.lookup(l),k=l.get("elType"),t="module"===k?l.get("mod_settings"):l.get("styling"),k="margin"===c&&("column"===k||"row"===k);e=null;for(var v=b.length-1;-1<v;--v)if(b[v].classList.contains("tb_dragger_"+c)){var x=u.createElement("div"),r=u.createElement("ul"),E=u.createElement("ul"),D=b[v].getElementsByClassName("tb_dragger_options")[0],y=b[v].getAttribute("data-id"),F=b[v].classList.contains("tb_dragger_top")||b[v].classList.contains("tb_dragger_bottom")?
"s":"e",G=b[v].getAttribute("data-u");x.className="tb_dragger_lightbox";E.className="tb_dragger_units";r.className="tb_dragger_types";!0===k&&(r.className+=" tb_dragger_hide_apply_all");for(var C=0,H=a.length;C<H;++C)e=u.createElement("li"),e.textContent=a[C],a[C]===G&&(e.className="current"),E.appendChild(e);null===h&&(h=y.replace(/_left|_right|_bottom|_top$/ig,""),g=this.getCurrentStyling(t,"checkbox_"+h+"_apply_all",l));null===n&&b[v].getAttribute("data-v")&&(n=1);C=0;for(H=d.length;C<H;++C)e=
u.createElement("li"),y=u.createElement("span"),G=!1,e.className="opposite"===d[C]?"tb_apply_opposite":"tb_apply_all",e.className+=" tb_apply","opposite"===d[C]?g||(G=this.getCurrentStyling(t,"s"===F?h+"_opp_top":h+"_opp_left",l)):G=g,G&&(e.className+=" current"),e.appendChild(y),r.appendChild(e);x.appendChild(E);x.appendChild(r);D.appendChild(x);D.getElementsByClassName("tb_dragger_arrow")[0].addEventListener("click",function(a){a.preventDefault();a.stopPropagation();!0!==f.ActionBar.isHoverMode?
f.ActionBar.el.classList.remove("tb_show_toolbar"):(a=q.body[0].getElementsByClassName("tb_clicked"),a.length&&(a[0].style.display="none"));var b=this.closest(".tb_dragger");b.classList.add("tb_dragger_focus");u.body.classList.add("tb_dragger_options_open");var c=function(a){if(!0!==f.ActionBar.isHoverMode)f.ActionBar.el.classList.add("tb_show_toolbar");else{var d=q.body[0].getElementsByClassName("tb_clicked");d.length&&(d[0].style.display="block")}if("mouseout"===a.type||!a.target.classList.contains("tb_dragger_lightbox")&&
!a.target.parentNode.classList.contains("tb_dragger_lightbox"))a.stopPropagation(),a.preventDefault(),u.removeEventListener("click",c),w.document.removeEventListener("click",c),b.removeEventListener("mouseleave",c,{once:!0}),b.classList.contains("tb_dragger_padding")&&b.classList.contains("tb_dragger_top")&&p.setModulePosition(b),b.classList.remove("tb_dragger_focus"),u.body.classList.remove("tb_dragger_options_open"),b=null};b.addEventListener("mouseleave",c,{once:!0});u.addEventListener("click",
c);w.document.addEventListener("click",c)})}if(null===n&&g){for(v=b.length-1;-1<v;--v)b[v].classList.contains("tb_dragger_"+c)&&b[v].getElementsByClassName("tb_apply_all")[0].classList.remove("current");this.setData(l,"checkbox_"+h+"_apply_all",!1)}}},clearEdges:function(){for(var c=f.Instances.Builder[0].el.getElementsByClassName("tb_dragger"),e=c.length-1;-1<e;--e)c[e].parentNode.removeChild(c[e])},addGutters:function(c,e){},getTabId:function(c,e,a){for(var d in c)if(void 0!==c[d].options)for(var b=
c[d].options.length-1;-1<b;--b)if(c[d].options[b].label===a&&"expand"===c[d].options[b].type){var f=c[d].options[b].options;if(void 0!==f)for(var h=f.length-1;-1<h;--h)if(void 0!==f[h].options&&void 0!==f[h].options.n)for(var g=f[h].options.n.options,n=g.length-1;-1<n;--n)if(g[n].id===e)return d}return null},addEdges:function(c,e,a,d,b){!0!==b&&this.clearEdges();if("divider"!==c){b="row"===c||"column"===c||"subrow"===c?e.get("styling"):e.get("mod_settings");for(var l=["padding","margin"],h=["top",
"left","bottom","right"],g=h.length,n=this.oneTag.length,m={},k=l.length-1;-1<k;--k)if(void 0!==this.modules[c]&&void 0!==this.modules[c][l[k]])for(var t in this.modules[c][l[k]])m[t]={s:this.modules[c][l[k]][t],t:l[k]};else m[l[k]]={s:"",t:l[k]};for(var v in m){l=u.createDocumentFragment();t=m[v].t;var k=v.replace("_"+h[k],""),q=this.getCurrentStyling(b,"checkbox_"+k+"_apply_all",e);if(q){var r=this.getCurrentStyling(b,k+"_top",e);var w=this.getCurrentStyling(b,k+"_top_unit",e)||"px";if(void 0===
r||null===r)r=""}else q=!1;for(k=g-1;-1<k;--k)if("margin"!==t||"column"!==c&&"row"!==c||"right"!==h[k]&&"left"!==h[k]){var D=u.createElement("div"),y=u.createElement("div"),F=u.createElement("span"),G=u.createElement("span"),C=t+"-"+h[k],H="margin"!==t||"column"!==c&&"row"!==c?v+"_"+h[k]:C;!1===q&&(r=this.getCurrentStyling(b,H,e),w=this.getCurrentStyling(b,H+"_unit",e)||"px",void 0===r||null===r)&&(r="");F.className="tb_dragger_value";G.className="tb_dragger_arrow";y.className="tb_dragger_options";
D.setAttribute("data-v",r);D.setAttribute("data-u",w);D.setAttribute("data-id",H);D.setAttribute("data-prop",C);""!==r&&(F.textContent=r+w);D.className="tb_dragger tb_disable_sorting tb_dragger_"+h[k]+" tb_dragger_"+t;"%"!==w&&this.setValueByType(D);y.appendChild(F);y.appendChild(G);D.appendChild(y);l.appendChild(D)}q=""===m[v].s?[a]:a.querySelectorAll(m[v].s);for(k=q.length-1;-1<k;--k){y=q[k].tagName;D=null;F=q[k];if("DIV"===y||"SPAN"===y||"A"===y)F.classList.add("tb_has_edge"),F.appendChild(l);
else{G=null;for(t=n-1;-1<t;--t)if(this.oneTag[t]===y){F=q[k].parentNode;F.classList.add("tb_has_edge");F.appendChild(l);G=!0;D=q[k].offsetWidth;break}null===G&&(F.classList.add("tb_has_edge"),F.appendChild(l))}y=F.children;for(t=y.length-1;-1<t;--t)"%"===y[t].getAttribute("data-u")&&this.setValueByType(y[t]),null!==D&&(y[t].classList.contains("tb_dragger_top")||y[t].classList.contains("tb_dragger_bottom"))&&(y[t].style.width=D+"px")}}!0===f.ActionBar.isHoverMode&&"row"!==c&&(e=null,"column"===c?"module"!==
d&&(e=a.classList.contains("sub_column")?a.closest(".module_subrow"):a.closest(".module_row")):e="subrow"===c||"module"===d||a.classList.contains("tb_module_front")?a.closest(".module_column"):a.closest(".tb_module_front"),null!==e&&(void 0===d&&(d="row"!==c&&"column"!==c&&"subrow"!==c?"module":null),c=f.Models.Registry.lookup(e.getAttribute("data-cid")),a=c.get("elType"),"module"===a&&(a=c.get("mod_name")),this.addEdges(a,c,e,d,!0)))}},optionsClick:function(c){f.ActionBar.disable=!0;c.preventDefault();
c.stopPropagation();this.addEdgesOptions(c.target.closest(".tb_dragger_options"));c="LI"===c.target.nodeName?c.target:c.target.parentNode;"LI"===c.nodeName&&(!c.classList.contains("current")&&c.parentNode.classList.contains("tb_dragger_units")?this.changeUnit(c):c.parentNode.classList.contains("tb_dragger_types")&&this.changeApply(c));f.ActionBar.disable=null},changeUnit:function(c){var e=c.closest(".tb_dragger_lightbox").closest(".tb_dragger"),a=e.classList.contains("tb_dragger_padding")?"padding":
"margin",d=e.classList.contains("tb_dragger_top")||e.classList.contains("tb_dragger_bottom")?"s":"e",b=e.getElementsByClassName("tb_dragger_types")[0].getElementsByClassName("current")[0];c=c.textContent;var l=e.parentNode,h=l.getAttribute("data-cid"),g=l.children,b=void 0===b?!1:b.classList.contains("tb_apply_all")?"all":"opposite";h||(h=m(l).closest("[data-cid]")[0].getAttribute("data-cid"));l=f.Models.Registry.lookup(h);h=l.get("elType");"module"===h&&(h=l.get("mod_name"));h=this.getSelector(h,
a,e.getAttribute("data-id").replace(/_left|_right|_bottom|_top$/ig,""));u.body.classList.add("tb_dragger_drag");e.classList.add("tb_dragger_dragged");for(var n=g.length-1;-1<n;--n)if(g[n].classList.contains("tb_dragger_"+a)){if("opposite"===b){if(!("s"===d&&(g[n].classList.contains("tb_dragger_top")||g[n].classList.contains("tb_dragger_bottom"))||"e"===d&&(g[n].classList.contains("tb_dragger_left")||g[n].classList.contains("tb_dragger_right"))))continue}else if("all"!==b&&g[n]!==e)continue;var p=
g[n].getAttribute("data-v"),k=""!==p?this.convert(a,g[n],g[n].getAttribute("data-u"),c,p):"",p=g[n].getElementsByClassName("tb_dragger_units")[0].children;g[n].setAttribute("data-v",k);g[n].setAttribute("data-u",c);this.setLivePreview(l,g[n].getAttribute("data-prop"),k+c,h);this.setData(l,g[n].getAttribute("data-id"),k,c,g[n].getAttribute("data-prop"));this.setValueByType(g[n]);g[n].getElementsByClassName("tb_dragger_value")[0].textContent=""===k?"":k+c;for(k=p.length-1;-1<k;--k)p[k].textContent===
c?p[k].classList.add("current"):p[k].classList.remove("current")}setTimeout(function(){for(var a=g.length-1;-1<a;--a)g[a].classList.remove("tb_dragger_dragged");u.body.classList.remove("tb_dragger_drag")},500)},changeApply:function(c){var e=c.classList.contains("tb_apply_all")?"all":"opposite",a=c.classList.contains("current"),d=c.closest(".tb_dragger");c=!1===a?d.getElementsByClassName("tb_apply_all")[0].classList.contains("current"):null;var b=d.parentNode,l=b.children,h=d.getAttribute("data-id").replace(/_left|_right|_bottom|_top$/ig,
""),g=d.getAttribute("data-v"),n=d.getAttribute("data-u"),p=d.classList.contains("tb_dragger_padding")?"padding":"margin",d=d.classList.contains("tb_dragger_top")||d.classList.contains("tb_dragger_bottom")?"s":"e",k=J.clone(b),q=b.getAttribute("data-cid");q||(q=m(b).closest("[data-cid]")[0].getAttribute("data-cid"));var v=f.Models.Registry.lookup(q),b=m.extend(!0,{},v.get("module"===v.get("elType")?"mod_settings":"styling"));"all"===e?(this.setData(v,"checkbox_"+h+"_apply_all",!1===a?"1":!1),!1===
a&&(this.setData(v,h+"_opp_left",!1),this.setData(v,h+"_opp_top",!1))):(this.setData(v,"checkbox_"+h+"_apply_all",!1),this.setData(v,"s"===d?h+"_opp_top":h+"_opp_left",!1===a?"1":!1));for(h=l.length-1;-1<h;--h)if(l[h].classList.contains("tb_dragger_"+p)){v=l[h].getElementsByClassName("tb_dragger_lightbox")[0];v.parentNode.removeChild(v);this.addEdgesOptions(l[h]);!0===a&&(n||(n="px"),null===g||void 0===g)&&(g="");if("all"===e||!0===c)l[h].setAttribute("data-v",g),l[h].setAttribute("data-u",n);if("all"!==
e)if("s"===d&&(l[h].classList.contains("tb_dragger_top")||l[h].classList.contains("tb_dragger_bottom"))||"e"===d&&(l[h].classList.contains("tb_dragger_left")||l[h].classList.contains("tb_dragger_right")))l[h].setAttribute("data-v",g),l[h].setAttribute("data-u",n);else continue;for(var v=l[h].getElementsByClassName("tb_dragger_units")[0].children,u,r=v.length-1;-1<r;--r)v[r].textContent===n?(v[r].classList.add("current"),u=v[r]):v[r].classList.remove("current");this.changeUnit(u)}this.onChange();null!==
f.activeModel&&f.activeModel.cid===q||this.addUndo(k,b)},setValueByType:function(c){var e=c.getAttribute("data-prop"),a=c.classList.contains("tb_dragger_margin")?"margin":"padding",d=c.getAttribute("data-v"),b=c.getAttribute("data-u");"%"===b&&(d=this.getRealPercent(c,d),b="px");"padding"===a?c.style[e]=""===d?"":d+b:""===d?c.style.height=c.style.width=c.style[e]="":(a=c.classList.contains("tb_dragger_top")||c.classList.contains("tb_dragger_bottom")?"height":"width",c.style[a]=(0<d?d:-d)+b,c.style[e]=
-d+b)},getRealPercent:function(c,e){return parseFloat(e*c.closest(".tb_has_edge").parentNode.offsetWidth/100)},convert:function(c,e,a,d,b){if(0==b)return 0;if(a===d)return b;var f;e=e.closest(".tb_has_edge");c="em"===d||"em"===a?parseFloat(r.getComputedStyle(e).fontSize):null;e="%"===d||"%"===a?e.parentNode.offsetWidth:null;"px"===a?"em"===d?f=+parseFloat(b/c).toFixed(2):"%"===d&&(f=parseInt(100*b/e)):"%"===a?(f=parseFloat(b*e/100),f="em"===d?+parseFloat(f/c).toFixed(2):parseInt(f)):(f=parseFloat(b*
c),"%"===d&&(f=parseFloat(100*f/e)),f=parseInt(f));return f},getCurrentStyling:function(c,e,a){var d=null;if(null!==f.activeModel&&f.activeModel.cid===a.cid){var b=J.Lightbox.$lightbox[0].querySelector("#"+e);null!==b&&(b.classList.contains("themify-checkbox")?(b=b.getElementsByClassName("tb-checkbox")[0],void 0!==b&&(d=!0===b.checked?b.value:!1)):d=b.value)}if(null===d){var b=f.activeModel,l=ThemifyConstructor.values,h=ThemifyConstructor.clicked;f.activeModel=a;ThemifyConstructor.clicked="styling";
ThemifyConstructor.values=c;d=ThemifyConstructor.getStyleVal(e);f.activeModel=b;ThemifyConstructor.clicked=h;ThemifyConstructor.values=l}return d},setData:function(c,e,a,d,b){var l="module"===c.get("elType")?"mod_settings":"styling",h=m.extend(!0,{},c.get(l)),g={};h||(h={});if(null!==f.activeModel&&c.cid===f.activeModel.cid){var n=J.Lightbox.$lightbox[0].querySelector("#"+e);if(void 0!==b){void 0===f.liveStylingInstance.tempData[f.activeBreakPoint]&&(f.liveStylingInstance.tempData[f.activeBreakPoint]=
{});b=f.liveStylingInstance.renameProp(b);var p=f.liveStylingInstance.tempData[f.activeBreakPoint],k;for(k in p)for(var u in p[k])if(u===b){f.liveStylingInstance.tempData[f.activeBreakPoint][k][u]=a+d;break}}ThemifyConstructor.values[e]=a;ThemifyConstructor.values[e+"_unit"]=d;if(null!==n){f.hasChanged=!0;n.classList.contains("themify-checkbox")?(n=n.getElementsByClassName("tb-checkbox")[0],void 0!==n&&(n.checked=a?!0:!1,q.triggerEvent(n,"change"))):(n.value=a,n=J.Lightbox.$lightbox[0].querySelector("#"+
e+"_unit"),null!==n&&(n.value=d));return}}"desktop"!==f.activeBreakPoint?(void 0===h["breakpoint_"+f.activeBreakPoint]&&(h["breakpoint_"+f.activeBreakPoint]={}),h["breakpoint_"+f.activeBreakPoint][e]=a,d&&(h["breakpoint_"+f.activeBreakPoint][e+"_unit"]=d)):(h[e]=a,d&&(h[e+"_unit"]=d));g[l]=h;c.set(g,{silent:!0})},getSelector:function(c,e,a){return void 0!==this.modules[c]&&void 0!==this.modules[c][e]?this.modules[c][e][a]:void 0},setLivePreview:function(c,e,a,d){if(null!==f.activeModel&&c.cid===f.activeModel.cid)f.liveStylingInstance.setLiveStyle(e,
a,d);else{var b=f.activeModel,l=ThemifyConstructor.component;f.activeModel=c;ThemifyConstructor.component=c.get("elType");this.liveinstance=new N;this.liveinstance.init(!0);this.liveinstance.setLiveStyle(e,a,d);f.activeModel=b;ThemifyConstructor.component=l}},onChange:function(){setTimeout(function(){f.Utils._onResize(!0)},1500)},addUndo:function(c,e){var a=!0===f.hasChanged;f.hasChanged=!0;var d=c[0].getAttribute("data-cid"),b=f.Models.Registry.lookup(d),l=m.extend(!0,{},this.liveinstance.undoData),
b=m.extend(!0,{},"module"===b.get("elType")?b.get("mod_settings"):b.get("styling")),h=J.clone(u.getElementsByClassName("tb_element_cid_"+d)[0]);c[0].classList.remove("tb_element_clicked");h[0].classList.remove("tb_element_clicked");f.undoManager.push(d,c,h,"save",{bsettings:e,asettings:b,styles:l,column:!1});this.liveinstance=null;f.hasChanged=a},setModulePosition:function(c){var e=f.ActionBar.prevExpand;if(null!==e&&!e.classList.contains("tb_small_action_bar")){var a=c.getElementsByClassName("tb_dragger_value")[0];
e.style.top="";void 0!==a&&null!==a.firstChild&&(a=a.getBoundingClientRect(),e.getBoundingClientRect().bottom>=a.top&&(e.style.top=c.offsetHeight/2+a.height+"px"))}},drag:function(c){if(1===c.which&&null===this.disableDrag&&!c.target.classList.contains("tb_dragger_value")&&(c.target.classList.contains("tb_dragger")||null!==c.target.closest(".tb_dragger"))){f.ActionBar.hideContextMenu();var e=c.target.closest(".tb_dragger"),a=m(e).closest("[data-cid]")[0];this.addEdgesOptions(e);if(void 0!==a){var d=
f.Models.Registry.lookup(a.getAttribute("data-cid"));if(d){var b=d.get("elType"),l="module"===b?d.get("mod_name"):b;var h=[];var g=null,n=null,p=null,k=c.pageY,q=c.pageX,v=0,r=null,I=null,E=null,D=[],p=null,y=this,F=null,G,C=function(t){if(null===I){c.stopPropagation();I=!0;f.ActionBar.disable=!0;var x=e.getElementsByClassName("tb_dragger_types")[0].getElementsByClassName("current")[0],x=void 0===x?!1:x.classList.contains("tb_apply_all")?"all":"opposite";E=e.classList.contains("tb_dragger_top")||
e.classList.contains("tb_dragger_bottom")?"s":"e";p="s"===E?e.classList.contains("tb_dragger_top")?"top":"bottom":e.classList.contains("tb_dragger_left")?"left":"right";n=e.classList.contains("tb_dragger_padding")?"padding":"margin";G=m.extend(!0,{},d.get("module"===b?"mod_settings":"styling"));F=J.clone(a);v=parseFloat(e.dataset.v)||0;r=e.dataset.u;g=y.getSelector(l,n,e.getAttribute("data-id").replace("_"+p,""));void 0!==g&&""!==g&&(a=a.querySelectorAll(g),0===a.length&&(a=null));if(null!==a){u.body.classList.add("tb_drag_start");
u.body.classList.add("tb_dragger_drag");u.body.classList.add("tb_dragger_drag_"+E);w.document.body.classList.add("tb_drag_start");void 0===a[0]&&(a=[a]);for(var B=a.length-1;-1<B;--B)for(var z=a[B].getAttribute("data-cid")?a[B]:a[B].parentNode,z=z.children,A=z.length-1;-1<A;--A)if(z[A].classList.contains("tb_dragger_"+n)){if("opposite"===x){if("s"===E&&(z[A].classList.contains("tb_dragger_left")||z[A].classList.contains("tb_dragger_right"))||"e"===E&&(z[A].classList.contains("tb_dragger_top")||z[A].classList.contains("tb_dragger_bottom")))continue}else if("all"!==
x&&!z[A].classList.contains("tb_dragger_"+p))continue;z[A].classList.add("tb_dragger_dragged");D.push(z[A].getElementsByClassName("tb_dragger_value")[0]);h.push(z[A])}}}if(null!==a)for(B=t.clientX,A=t.clientY,t="px"===r||"%"===r?1:.1,x=e.getBoundingClientRect(),z=0,"left"===p?z=B-x.right:"right"===p?z=x.left-B:"top"===p?z=A-x.bottom:"bottom"===p&&(z=x.top-A),0<z&&(t*=2),"e"===E?B!==q&&(v=B>q?"left"===p?v+t:v-t:"left"===p?v-t:v+t):A!==k&&(v=A>k?v+t:v-t),q=B,k=A,0>v&&"padding"===n?v=0:0!==v%1&&(v=parseFloat(v.toFixed(1))),
t=v+r,B=h.length-1;-1<B;--B){x=h[B].getAttribute("data-prop");for(A=a.length-1;-1<A;--A)a[A].style[x]=t;if("margin"===n){var A=h[B].classList.contains("tb_dragger_top")||h[B].classList.contains("tb_dragger_bottom")?"height":"width",z=v,C=r;"%"===r&&(z=y.getRealPercent(h[B],v),C="px");h[B].style[A]=0>v?-z+C:z+C;h[B].style[x]=-z+C}else h[B].style[x]="%"===r?y.getRealPercent(h[B],v)+"px":t;D[B].textContent=0===v?"":t}},H=function(k){if(!0===I&&null!==a){for(var l=null,m=h.length-1;-1<m;--m){var q=h[m].getAttribute("data-prop");
y.setLivePreview(d,q,v+r,g);for(var t=a.length-1;-1<t;--t)a[t].style[q]="";0===v&&"margin"===n&&(h[m].style.width=h[m].style.height=h[m].style[q]="");h[m].setAttribute("data-v",v);h[m].setAttribute("data-u",r);h[m].classList.remove("tb_dragger_dragged");y.setData(d,h[m].getAttribute("data-id"),v,r,q);"padding"===n&&"top"===p&&"module"===b&&(l=m)}u.body.classList.remove("tb_dragger_drag_"+E);u.body.classList.remove("tb_drag_start");w.document.body.classList.remove("tb_drag_start");u.body.classList.remove("tb_dragger_drag");
null!==l&&y.setModulePosition(h[l])}u.removeEventListener("mousemove",C,{passive:!0});u.removeEventListener("mouseup",H,{once:!0,passive:!0});w.removeEventListener("mouseup",H,{once:!0,passive:!0});null!==c.target.closest(".tb_dragger_lightbox")&&null!==k.target.closest(".tb_dragger_lightbox")?(c.stopPropagation(),y.optionsClick(c)):!0===I&&(y.onChange(),null!==f.activeModel&&f.activeModel.cid===d.cid||y.addUndo(F,G),f.ActionBar.hoverCid=f.ActionBar.disable=null);e=d=h=G=y=g=D=E=n=p=I=a=p=r=v=null};
d&&(u.addEventListener("mousemove",C,{passive:!0}),u.addEventListener("mouseup",H,{once:!0,passive:!0}),w.addEventListener("mouseup",H,{once:!0,passive:!0}))}}}}};f.createStyleInstance=function(){return new N}})(jQuery,Themify,window,window.top,document,tb_app,ThemifyBuilderCommon);
