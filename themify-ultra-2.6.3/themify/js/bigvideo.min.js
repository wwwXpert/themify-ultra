var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,g){a instanceof String&&(a=String(a));for(var f=a.length,d=0;d<f;d++){var h=a[d];if(e.call(g,h,d,a))return{i:d,v:h}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,g){a!=Array.prototype&&a!=Object.prototype&&(a[e]=g.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,g,f){if(e){g=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var d=a[f];d in g||(g[d]={});g=g[d]}a=a[a.length-1];f=g[a];e=e(f);e!=f&&null!=e&&$jscomp.defineProperty(g,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,g){return $jscomp.findInternal(this,a,g).v}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var e=0;return $jscomp.iteratorPrototype(function(){return e<a.length?{done:!1,value:a[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,e){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var g=0,f={next:function(){if(g<a.length){var d=g++;return{value:e(d,a[d]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
(function(a,e,g){function f(c,b){this.element=c;this.options=a.extend({},h,b);this.init()}var d=!1,h={url:!1,autoPlay:!0,doLoop:!1,ambient:!1,id:"",onload:null,onStart:null,onPlay:null,onPause:null,onEnd:null};f.prototype={isPlaying:!1,mediaAspect:16/9,prefix:"tf-",items:{},player:null,init:function(){if(this.options.url){var c=function(a){b.player.removeEventListener("canplay",c,!1);b.bindEvents(a)};this.player=g.createElement("video");this.player.id=this.prefix+this.options.id;this.player.preload=
"auto";this.player.className="tf-video";this.player.width=1;this.player.height=1;this.player.src=this.options.url;this.player.setAttribute("webkit-playsinline",1);this.options.doLoop&&(this.player.loop=!0);this.options.autoPlay&&(this.player.autoplay=!0,this.options.ambient=!0);this.options.ambient&&(this.player.muted=!0,this.player.setAttribute("muted","muted"));var b=this;a.isFunction(this.options.onload)&&this.player.addEventListener("loadedmetadata",function(a){b.options.onload.call(b,a)});b.player.addEventListener("canplay",
c);var e=g.createElement("div");e.className="big-video-wrap";e.appendChild(this.player);this.element.insertAdjacentElement("afterbegin",e)}},bindEvents:function(c){var b=this;a.isFunction(b.options.onStart)&&b.options.onStart.call(b,c);b.player.addEventListener("play",function(c){b.isPlaying=!0;a.isFunction(b.options.onPlay)&&b.options.onPlay.call(b,c)});b.player.addEventListener("pause",function(c){b.isPlaying=!1;a.isFunction(b.options.onPause)&&b.options.onPause.call(b,c)});b.player.addEventListener("ended",
function(c){b.isPlaying=!1;setTimeout(function(){b.player.loop&&b.play()},50);a.isFunction(b.options.onEnd)&&b.options.onEnd.call(b,c)});b.options.autoPlay&&b.play();b.updateSize();this.items[this.options.id]=b;d||(d=!0,b.onResize())},onResize:function(){var c=this;a(e).on("tfsmartresize.tfVideo",function(){for(var a in c.items)c.items[a].updateSize()})},getPlayer:function(){return this.player},play:function(){this.isPlaying||this.player.play()},pause:function(){this.isPlaying&&this.player.pause()},
update:function(a){this.player.src=a;this.player.load()},muted:function(a){this.player.muted=a},loop:function(a){this.player.loop=a;!this.isPlaying&&a&&this.play()},updateSize:function(){if(null!==g.getElementById(this.prefix+this.options.id)){var c=a(e).width(),b=a(this.element),f=a(this.player),d=b.outerWidth(),b=b.outerHeight(),d=d<c?d:c,c=d/b,k=f.prop("videoWidth")/f.prop("videoHeight");if(c<k){c=b*k;var h=b;var l=-(b*k-d)/2;d=0}else c=d,h=d/k,l=0,d=-(d/k-b)/2;f.css({width:c+"px",height:h+"px",
top:d,left:l})}else this.dispose()},dispose:function(){var c=a(this.player);0<c.length&&(this.player.pause(),this.player.src="",c.find("source").prop("src",""),c.parent().remove(),this.player=null);delete this.items[this.options.id];0===Object.keys(this.items).length&&a(e).off("tfsmartresize.tfVideo")}};a.fn.ThemifyBgVideo=function(c){return this.each(function(){a.data(this,"plugin_ThemifyBgVideo",new f(this,c))})}})(jQuery,window,document);
