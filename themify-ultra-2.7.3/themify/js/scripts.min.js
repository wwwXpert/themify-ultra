var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,l,f){a instanceof String&&(a=String(a));for(var m=a.length,n=0;n<m;n++){var y=a[n];if(l.call(f,y,n,a))return{i:n,v:y}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,l,f){a!=Array.prototype&&a!=Object.prototype&&(a[l]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,l,f,m){if(l){f=$jscomp.global;a=a.split(".");for(m=0;m<a.length-1;m++){var n=a[m];n in f||(f[n]={});f=f[n]}a=a[a.length-1];m=f[a];l=l(m);l!=m&&null!=l&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:l})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).v}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var l=0;return $jscomp.iteratorPrototype(function(){return l<a.length?{done:!1,value:a[l++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,l){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var f=0,m={next:function(){if(f<a.length){var n=f++;return{value:l(n,a[n]),done:!1}}m.next=function(){return{done:!0,value:void 0}};return m.next()}};m[Symbol.iterator]=function(){return m};return m};
$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,f){return f})}},"es6","es3");
(function(a){function l(e){e=e.find("[data-show-if-element]").map(function(){return a(this).data("show-if-element")}).get().filter(function(a,e,g){return e===g.indexOf(a)});a.each(e,function(e,k){f(k);a(document).on("change",k,function(a){f(k)})})}function f(e){a('[data-show-if-element="'+e+'"]').each(function(){var e=a(this),k=e.data("show-if-value"),g=a(e.data("show-if-element").toString());0>=g.length||(g=g.is(":checkbox")?g.is(":checked")?"true":"false":g.is(":radio")?g.filter(":checked").val():
g.val().trim(),k=a.isArray(k)?k:[k.toString()],"undefined"!==typeof g&&-1!==a.inArray(g,k)?e.slideDown({duration:550}):e.slideUp({duration:550}))})}function m(){a("#builder-regenerate-css-files").click(function(){var e=a(this);e.attr({value:"Regenerating ...",disabled:"disabled"});a.ajax({url:ajaxurl,type:"post",data:{action:"themify_regenerate_css_files_ajax",nonce:themify_js_vars.nonce},success:function(a){e.removeAttr("disabled").attr("value","Regenerate CSS Files");"finished"!==a&&alert(a)}})})}
function n(){a.ajax({url:ajaxurl,type:"post",data:{action:"themify_get_builder_posts",from_ajax:!0,nonce:themify_js_vars.nonce},success:function(e){e=JSON.parse(e);if(""==e.posts)alert("No builder data found!"),a("#builder-find-and-replace-btn").removeAttr("disabled").attr("value","Replace");else for(var f=a("#original_string").val(),k=a("#replace_string").val(),g=1;g<=e.groups;++g)J({group:g,total:e.groups,originalString:f,replaceString:k})}})}function y(){a("#builder-find-and-replace-btn").click(function(){""===
a("#original_string").val()?alert("Please fill original value for search!"):confirm("WARNING: This will replace all data in your database. It can not be undone. Please backup your database before proceeding.")&&(a(this).attr({value:"Replacing ...",disabled:"disabled"}),n())})}function J(e){a.ajax({url:ajaxurl,type:"post",data:{action:"themify_find_and_replace_ajax",group_number:e.group,total_groups:e.total,original_string:e.originalString,replace_string:e.replaceString,nonce:themify_js_vars.nonce},
success:function(e){-1!==e.indexOf("finished-")&&(a("#builder-find-and-replace-btn").removeAttr("disabled").attr("value","Replace"),alert("Replace operation was completed successfully. "+e.replace("finished-","")+" strings found and replaced."))}})}function K(){function e(){f.removeEventListener("click",e);var k=this;a.ajax({url:ajaxurl,type:"POST",data:{action:"tb_load_maintenance_pages",nonce:themify_js_vars.nonce},success:function(a){k.innerHTML=a}})}var f=document.getElementById("setting-page_builder_maintenance_page");
null!==f&&f.addEventListener("click",e)}a(function(){function e(){var b=a(".search-setting-holder .clear-search");0>=b.prev().val().length?b.removeClass("show"):b.addClass("show")}function f(){k();var b=r.serialize();a.post(ajaxurl,{action:"themify_save",data:b,nonce:themify_js_vars.nonce},function(){g();a("body").triggerHandler("themify_save")})}function k(){a(".tb_alert").addClass("busy").fadeIn(800)}function g(b){"error"===b?(b="error",a(".overlay, .prompt-box").delay(900).fadeIn(500),a(".prompt-box .show-error").show(),
a(".prompt-box .show-error p").remove(),a(".prompt-box .error-msg").after('<p class="prompt-error">undefined</p>'),a(".prompt-box .show-login").hide()):b="done";a(".tb_alert").removeClass("busy").addClass(b).delay(800).fadeOut(800,function(){a(this).removeClass(b)})}function n(b,c){function d(){if(0!==h.length&&!(5<z)){var b=h.shift();++z;a.ajax({url:ajaxurl,dataType:"json",type:"POST",data:b,complete:function(a){--z;d();1>z&&c()}})}}var h=[],z=0;void 0!==b.data.actions&&a.each(b.data.actions,function(b,
c){a.each(c,function(a,c){h.push({action:"themify_import_sample_actions",_action:b,nonce:themify_js_vars.nonce,data:c})})});if(0===h.length)c();else for(var e=0;5>e;e++)d()}var A=a("body"),r=a("#themify"),t=a("#setting>.subtabnav"),w=a("#themify_404_page_autocomplete"),C;r.find(".maintab").not('[aria-expanded="false"]').each(function(){a(this).find(".subtab").css("minHeight",a(this).find(".subtabnav").outerHeight())});if(0<w.length){var D={},E=w.closest(".themify_404_autocomplete_wrap");w.autocomplete({minLength:2,
autoFocus:!0,classes:{"ui-autocomplete":"highlight"},source:function(b,c){var d=b.term;E.addClass("themify_autocomplete_run");d in D?(c(D[d]),E.removeClass("themify_autocomplete_run")):a.ajax({url:ajaxurl,dataType:"json",type:"POST",data:{term:d,action:"themify_get_404_pages"},success:function(a){D[d]=a;c(a.length?a:[themify_js_vars.page_not_found]);E.removeClass("themify_autocomplete_run")}})},select:function(a,c){a.preventDefault();c.item.value!==themify_js_vars.page_not_found&&w.val(c.item.label).next('input[type="hidden"]').val(c.item.value)},
change:function(a,c){c.item||a.target.value||w.next('input[type="hidden"]').val("")}}).focus(function(){a(this).autocomplete("search")})}0<t.length&&(C=t.offset().top-32);var G=!1,p=function(b,c){a(".search-setting-holder .clear-search").click();var d="tabscreate"===b.type?window.location:c.newTab.find("a")[0];"replaceState"in history&&history.replaceState(null,null,d.hash||null);"tabscreate"!==b.type||G||(G=!0,d=a("#themify div#setting div.subtab"),d.each(function(){var b=a(this).find("fieldset");
2<b.length?b.children(".themify_panel_fieldset_wrap").hide():b.find("legend").addClass("themify_panel_fieldset_nocollapse")}),d.find("legend:not(.themify_panel_fieldset_nocollapse)").on("click",function(){var b=a(this),c=b.children("i");c.hasClass("ti-plus")?b.siblings().slideDown("fast",function(){c.removeClass("ti-plus").addClass("ti-minus")}):b.siblings().slideUp("fast",function(){c.removeClass("ti-minus").addClass("ti-plus")})}))};a("#content, .maintab").tabs({fx:{opacity:"toggle",duration:200},
cache:!0,select:function(){a(this).css({height:a(this).height(),overflow:"hidden"})},show:function(){a(this).css({height:"auto",overflow:"visible"});0<t.length&&(C=t.offset().top-32)},beforeActivate:p,create:p});if(0<t.length)a(window).on("scroll",function(){a(this).scrollTop()>C?t.hasClass("themify_settings_fixed")||t.addClass("themify_settings_fixed"):t.removeClass("themify_settings_fixed")});var H=function(){var b=a("#search-setting").val();0>=b.length?(e(),a(".subtab","#setting").unmark({done:function(){a(".searching").removeClass("searching");
a(".contain-result").removeClass("contain-result");a("#setting").removeClass("not-found")}})):(b.length&&(a(".search-setting-holder .clear-search").hasClass("show")||e()),a(".subtab","#setting").unmark({done:function(){a(".searching").removeClass("searching");a(".contain-result").removeClass("contain-result");a("#setting").removeClass("not-found");a("*:not(:input):contains('"+b+"')","#setting .subtab").mark(b,{diacritics:!0,separateWordSearch:!0,exclude:["option",".tm-option-title-fw"],filter:function(b,
d,h,e){if("#text"===b.nodeName){if("none"===a(b).parent().parent().css("display"))return!1}else if("none"===a(b).parent().css("display"))return!1;return!0},each:function(b){a(b).closest("fieldset").addClass("contain-result");a(b).closest(".subtab").addClass("contain-result")},done:function(){a("#setting").addClass("searching")},noMatch:function(){a("#setting").addClass("not-found")}})}}))};a("#search-setting").on("input",H);a(".search-setting-holder .clear-search").on("click",function(){a(this).prev().val("");
H()});a(".valid_num").on("keyup input paste",function(){for(var b=a(this).val(),c=!0,d,h=0;h<b.length&&!0===c;h++)d=b.charAt(h),-1===" 0123456789.+-".indexOf(d)&&(c=!1);c||a(this).val(a(this).val().substring(0,a(this).val().length-1))});a(".save-button").on("click",function(a){f();return!1});if(0<r.length)a(document).on("keydown",function(a){83!=a.which||1!=a.ctrlKey&&1!=a.metaKey||(a.preventDefault(),f())});a("#reset-styling, #reset-setting").on("click",function(b){b.preventDefault();b="reset-setting"!==
a(this).prop("id")?"styling":"settings";confirm(themify_lang["confirm_reset_"+b])&&(k(),a.post(ajaxurl,{action:"themify_reset_"+b,data:r.serialize(),nonce:themify_js_vars.nonce},function(){g();window.location.reload(!0)}))});a("p.update:has(a.upgrade-framework, a.upgrade-theme)").length&&a.ajax({url:"https://themify.me/public-api/update-message/index.txt",success:function(b){a('<span class="updater-message"></span>').text(b).appendTo("p.update:has(a.upgrade-framework, a.upgrade-theme)")}});a(".themify_changelogs").on("click",
function(b){b.preventDefault();b=a(this).data("changelog");a(".show-login, .show-error").hide();a(".overlay, .prompt-box").fadeIn(300);1>a(".prompt-box iframe").length&&(a(".tb_alert").addClass("busy").fadeIn(300),a('<iframe src="'+b+'" />').on("load",function(){a(".tb_alert").removeClass("busy").fadeOut(300)}).prependTo(".prompt-box"));a(".prompt-box").addClass("show-changelog")});a(".overlay").on("click",function(){a(this).add(".prompt-box").fadeOut()});a(".padding-switch, .margin-switch").on("click",
function(){var b=a(this).parent().parent().parent(),c=0;a(this).is(":checked")?(""!=b.find(".individuals input:first").val()&&(c=b.find(".individuals input:first").val()),b.find(".individuals").fadeOut(200,function(){b.find(".same").fadeIn(200).find("input").val(c)}).find("input").val("")):(""!=b.find(".same input").val()&&(c=b.find(".same input").val()),b.find(".same").fadeOut(200,function(){b.find(".individuals").fadeIn(200).find("input").val(c)}).find("input").val(""))});a(".border-switch").on("click",
function(){var b=a(this).parent().parent(),c="",d=0,h="";a(this).is(":checked")?(""!=b.parent().find(".individuals input[type='text']:nth-child(1)").val()&&(c=b.parent().find(".individuals input[type='text']:nth-child(1)").val()),""!=b.parent().find(".individuals input:nth-child(2)").val()&&(d=b.parent().find(".individuals input:nth-child(2)").val()),h=b.parent().find(".individuals .colorSelect").css("background-color"),b.parent().find(".individuals .colorSelect").css("background-color","#ffffff"),
b.parent().find(".individuals input[type='text']").val(""),b.parent().find(".individuals").fadeOut(200,function(){b.parent().find(".same input[type='text']:nth-child(1)").val(c);b.parent().find(".same .colorSelect").css("background-color",h);b.parent().find(".same").fadeIn(200).find("input[type=text]:nth-child(2)").val(d);b.parent().find(".same select").val(b.parent().find(".individuals select:first option:selected").val())})):(""!=b.parent().find(".same input[type='text']:nth-child(1)").val()&&(c=
b.parent().find(".same input[type='text]:nth-child(1)").val()),""!=b.parent().find(".same input:nth-child(2)").val()&&(d=b.parent().find(".same input:nth-child(2)").val()),h=b.parent().find(".same .colorSelect").css("background-color"),b.parent().find(".same .colorSelect").css("background-color","#ffffff"),b.parent().find(".same input").val(""),b.parent().find(".same").fadeOut(200,function(){b.parent().find(".individuals select").val(b.parent().find(".same select:first option:selected").val());b.parent().find(".individuals").fadeIn(200).find("input[type='text']:nth-child(2)").val(d);
b.parent().find(".individuals .borders input[type='text']:nth-child(1)").val(c);b.parent().find(".individuals .borders .colorSelect").css("background-color",h)}))});a(".colorTransparent").on("click",function(){var b=a(this).parent();a(this).is(":checked")?(b.find("input[type='text']").attr("disabled",!0).val("").addClass("opacity-7"),b.find(".colorSelect").minicolors("value",""),a(".clearColor, .minicolors",b).hide()):(b.find("input[type=text]").removeAttr("disabled").removeClass("opacity-7"),a(".minicolors",
b).show())});a(".noBgImage").each(function(){if(a(this).is(":checked")){var b=a(this).parent();b.find("input[type='text']").attr("disabled",!0).val("").addClass("opacity-7");a(".plupload-button",b).hide()}}).click(function(){var b=a(this).parent();a(this).is(":checked")?(b.find("input[type='text']").attr("disabled",!0).val("").addClass("opacity-7"),a(".plupload-button",b).hide()):(b.find("input[type='text']").removeAttr("disabled").removeClass("opacity-7"),a(".plupload-button",b).show())});a(".background_position.positionX").on("change",
function(){a(this).parent().find(".valueX").val(a("option:selected",this).val())});a(".background_position.positionY").on("change",function(){a(this).parent().find(".valueY").val(a("option:selected",this).val())});p=a(".preset");p.on("click",".backgroundThumb",function(b){b.preventDefault();b=a(this).attr("alt");a(this).parent().parent().find(".backgroundThumb.selected").removeClass("selected");a(this).addClass("selected");a(this).parent().parent().parent().find(".background_image input[type=text]").removeAttr("disabled").val(b);
a(this).parent().parent().parent().find(".background_image input:checkbox").attr("checked",!1)});a(".background_image .upload-file").on("blur",function(){""==a(this).val()&&a(this).parent().parent().find(".backgroundThumb.selected").removeClass("selected")});a(".background_image input:checkbox").on("click",function(){a(this).is(":checked")?(a(this).parent().parent().find(".backgroundThumb.selected").removeClass("selected"),a(this).parent().parent().find(".background_image input[type=text]").attr("disabled",
!0).val("")):a(this).parent().parent().find(".background_image input[type=text]").removeAttr("disabled")});p.on("click","span",function(b){b.preventDefault();var c=a(this);confirm(themify_lang.confirm_delete_image)&&a.post(ajaxurl,{action:"themify_delete_preset",file:c.attr("title"),nonce:themify_js_vars.nonce},function(){c.parent().parent().parent().find('.background_image input[type="text"]').val()==c.parent().find("img").attr("alt")&&c.parent().parent().parent().find('.background_image input[type="text"]').val("");
c.parent().remove();a('.preset a[title="'+c.parent().attr("title")+'"]').remove();a(".upload-file").each(function(){a(this).val()==c.parent().find("img").attr("alt")&&a(this).val("")})})});a(".select_position").on("change",function(){var b=a("option:selected",this).val();"absolute"===b||"fixed"===b?a(this).parent().parent().find(".position_display").show(200):a(this).parent().parent().find(".position_display").hide(200)});a(".fontFamily").on("change",function(){"custom"===a("option:selected",this).val()?
(a(this).parent().find(".value").show(),a(this).parent().find(".value input").val("")):(a(this).parent().find(".value").hide(),a(this).parent().find(".value input").val(a("option:selected",this).val()))});a("input[name='setting-site_logo'], input[name='setting-footer_logo']").on("change",function(){"image"===a(this).val()?a(this).parent().parent().find(".image").fadeIn(200).css("display","block"):a(this).parent().parent().find(".image").fadeOut()});a(".feature-box-display").on("click",function(){"images"===
a(this).val()?a(this).parent().parent().find(".feature_box_posts").fadeOut(200,function(){a(this).parent().parent().find(".feature_box_images").fadeIn(200)}):a(this).parent().parent().find(".feature_box_images").fadeOut(200,function(){a(this).parent().parent().find(".feature_box_posts").fadeIn(200)})});a(".block-toggle").on("click",function(){var b=a(this),c=b.val(),d=b.data("hide");b.parent().parent().find(".feature_box_"+d).fadeOut(200,function(){b.parent().parent().find(".feature_box_"+c).fadeIn(200)})});
a(".feature_box_enabled_check").on("change",function(){"on"===a(this).val()?a(this).closest("fieldset").find(".feature_box_enabled_display").fadeIn(200):a(this).closest("fieldset").find(".feature_box_enabled_display").fadeOut(200)});p=a(".box_enabled_check");p.click(function(){a(this).is(":checked")?a(this).parent().find(".box_enabled_display").fadeIn(200):a(this).parent().find(".box_enabled_display").fadeOut(200)});p.is(":checked")&&p.parent().find(".box_enabled_display").show();var B=a(".disable_img_php");
B.click(function(){B.is(":checked")?(a(".show_if_disabled_img_php").fadeIn(200),a(".show_if_enabled_img_php").fadeOut(200)):(a(".show_if_disabled_img_php").fadeOut(200),a(".show_if_enabled_img_php").fadeIn(200))});B.is(":checked")?a(".show_if_disabled_img_php").show():B.not(":checked")&&a(".show_if_enabled_img_php").show();a(".gallery_lightbox_type").change(function(){1!=a(".gallery_lightbox_type").prop("selectedIndex")?a(".show_if_photoswipe_enabled").fadeOut(200):a(".show_if_photoswipe_enabled").fadeIn(200)}).change();
a("#skins .skin-preview").click(function(b){a(b.target).parent().hasClass("view-demo")||b.preventDefault();a("#skins .skin-preview").removeClass("selected");a(this).addClass("selected");a("input[name='skin']").val(a(this).attr("data-skin"))});p=a(".featimgcontrol");0<p.length&&0<a(".featimgdropdown").length&&p.each(function(){a(this).append(a(this).next(".featimgdropdown"))});var F=a("#social-link-type"),u=a("#social-links-wrapper"),x=a("#setting-link_field_ids"),v=a("#setting-link_field_hash");a('input[value="font-icon"]',
F).prop("checked")?(a(".image-icon",u).fadeOut(),a(".font-icon",u).fadeIn()):(a(".font-icon",u).fadeOut(),a(".image-icon",u).fadeIn());a("input",F).on("click",function(){var b=a(this);b.prop("checked")&&(a("."+b.data("hide"),u).fadeOut(),a("."+b.val(),u).fadeIn())});u.sortable({placeholder:"social-link-placeholder",handle:".social-drag",update:function(){var b={};a(".social-link-item").each(function(){b[a(this).attr("id")]=a(this).attr("id")});x.val(JSON.stringify(b))}}).on("click",".remove-item",
function(b){b.preventDefault();b=JSON.parse(x.val());var c=a(this).data("removelink");a("#"+c).remove();delete b[c];x.val(JSON.stringify(b))});a(".add-social-link a").on("click",function(b){var c=JSON.parse(x.val()),d=parseInt(v.val()),h="image-icon";b.preventDefault();a("input[value=font-icon]",F).prop("checked")&&(h="font-icon");a.post(ajaxurl,{action:"themify_add_link_field",nonce:themify_js_vars.nonce,fid:d,type:h},function(b){a("#social-links-wrapper").append(b);b=a("#themify-link-"+v.val()+
" .plupload-upload-uic");var h=a("#themify-link-"+v.val()+" .colorSelect");c["themify-link-"+v.val()]="themify-link-"+v.val();x.val(JSON.stringify(c));0<b.length&&themify_create_pluploader(b);0<h.length&&h.minicolors({defaultValue:"#ffffff",letterCase:"lowercase",change:function(b){a(this).parent().next().val(b.replace("#",""))}});v.val(d+1)})});a(".slug-rewrite").each(function(){a(this).on("keypress",function(a){var b=String.fromCharCode(a.charCode?a.charCode:a.which);if(!/^[a-z0-9_-]+$/.test(b))return a.preventDefault(),
!1})});r.on("click",".refresh-webfonts",function(b){b.preventDefault();confirm(themify_lang.confirm_refresh_webfonts)&&(b=r.serialize(),a.post(ajaxurl,{action:"themify_save",data:b,nonce:themify_js_vars.nonce},function(){k();a.post(ajaxurl,{action:"themify_refresh_webfonts",nonce:themify_js_vars.nonce},function(){g();window.location.reload(!0)})}))});r.on("change",".google_font_subset, .themify_multiselect",function(){var b=a(this).val();b&&(b=b.join(","));a(this).next().val(b)});var q={target:"",
getDocHeight:function(){var a=document;return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))},showLightbox:function(b){var c=a(document).scrollTop()+80,d=a(".themify-admin-lightbox-"+b);d.length||(a(".themify-admin-lightbox:first").clone().removeClass("themify-admin-lightbox-1").addClass("themify-admin-lightbox-"+b).data("item",b).insertAfter(".themify-admin-lightbox:last"),
1<a(".themify-admin-lightbox").length&&a(".lightbox_container",".themify-admin-lightbox-"+b).html(""),d=a(".themify-admin-lightbox-"+b),d.removeClass("is-loaded"));a("#themify_lightbox_overlay").show();d.hasClass("is-loaded")?(d.show().css("top",q.getDocHeight()).animate({top:c},800),a(".themify-visibility-toggle").html(a(".themify-visibility-toggle").data("text"))):a.ajax({type:"POST",url:ajaxurl,data:{action:"themify_get_visibility_options",selected:q.target.val(),nonce:themify_js_vars.nonce},success:function(b){a(".lightbox_container",
d).append(b);d.show().css("top",q.getDocHeight()).animate({top:c},800);a("#visibility-tabs",d).tabs();a("#visibility-tabs .themify-visibility-inner-tabs",d).tabs();a(".themify-visibility-toggle").html(a(".themify-visibility-toggle").data("text"))}})},closeLightbox:function(b,c){a(".themify-admin-lightbox-"+b).animate({top:q.getDocHeight()},800,function(){a("#themify_lightbox_overlay").hide();a(".themify-admin-lightbox-"+b).hide();"function"===typeof c&&c()}).addClass("is-loaded")},clearOptions:function(){a("#themify_lightbox_visibility").find(".lightbox_container").empty()}};
A.on("click",".themify-visibility-toggle",function(){var b=a(this),c=b.html();b.html('<span class="tb_slider_loader_wrapper"><span class="tb_slider_loader"></span></span>'+c);q.target=a(this).next();q.showLightbox(a(this).data("item"));return!1}).on("click",".themify_lightbox_visibility .close_lightbox, #themify_lightbox_overlay",function(){q.closeLightbox(a(this).parents(".themify_lightbox_visibility").data("item"));return!1});A.on("click",".themify-visibility-pagination .page-numbers",function(b){b.preventDefault();
b=a(this);var c=b.parents(".themify-visibility-options"),d=b.parents(".themify-visibility-items-inner"),h=a(".themify-visibility-pagination",d),e=parseFloat(a(".themify-visibility-pagination .current",d).text()),f=1;b.hasClass("next")?f=e+1:b.hasClass("prev")?f=e-1:b.hasClass("page-numbers")&&(f=parseFloat(b.text()));var g=a(".themify-visibility-items-inner",c);a.ajax({url:ajaxurl,type:"post",data:{action:"themify_create_page_pagination",current_page:f,num_of_pages:d.data("pages"),nonce:themify_js_vars.nonce},
beforeSend:function(){a(".tb_slider_loader",c).remove();h.hide();g.append('<div class="tb_slider_loader"></div>')},success:function(b){a(".tb_slider_loader",c).remove();a(".themify-visibility-items-page",d).addClass("is-hidden");a(".themify-visibility-items-page-"+f,d).removeClass("is-hidden");h.html(b).show()}})}).on("click","#visibility-tabs .themify-visibility-tab",function(b){b.preventDefault();var c=a(this),d=a("#themify-original-conditions");if(!c.data("active")){b=c.data("type");var h=c.parents("#visibility-tabs").find(".themify-visibility-type-options[data-type="+
b+"]"),e=c.parents(".themify_lightbox_visibility").data("item"),e=a("#setting-hooks-"+e+"-visibility").val();a.ajax({url:ajaxurl,type:"post",data:{action:"themify_create_inner_page",type:b,selected:e,nonce:themify_js_vars.nonce,original_values:d.val()},beforeSend:function(){h.html('<div class="tb_slider_loader"></div>')},success:function(a){a=JSON.parse(a);h.html(a.html);c.data("active","on");d.val(a.original_values)}})}}).on("click",".visibility-save",function(){for(var b=a(this).parents(".themify_lightbox_visibility"),
c=b.data("item"),d=a("form",b).serialize(),b=a("#themify-original-conditions",b).val(),b=""===b?[]:b.split("&"),d=""===d?[]:d.split("&"),d=b.concat(d).concat(),b=0;b<d.length;++b)for(var e=b+1;e<d.length;++e)d[b]===d[e]&&d.splice(e--,1);d=d.join("&");a(".setting-hooks-"+c+"-visibility").val(d);q.target.val(d);q.closeLightbox(a(this).parents(".themify_lightbox_visibility").data("item"));return!1}).on("click",".themify_lightbox_visibility .uncheck-all",function(){a(this).before('<span class="tb_slider_loader_wrapper"><span class="tb_slider_loader"></span></span>');
var b=a(this).parents(".themify_lightbox_visibility"),c=b.data("item");a("#setting-hooks-"+c+"-visibility").val("");a("#themify-original-conditions",lightbox).val("");a("input:checkbox",b).removeAttr("checked");a(this).parent().find(".tb_slider_loader_wrapper").remove();return!1});a("#setting-hooks").on("click",".remove-item",function(b){b.preventDefault();var c=JSON.parse(a("#themify-hooks-field-ids").val()),d=a(this).closest(".social-link-item").fadeOut("fast",function(){var b=d.attr("data-id"),
e;for(e in c)c.hasOwnProperty(e)&&c[e]==b&&c.splice(e,1);a("#themify-hooks-field-ids").val(JSON.stringify(c));a(".themify-admin-lightbox-"+b).remove()})}).on("click",".themify-add-hook a",function(b){b.preventDefault();a(this).before('<span class="tb_slider_loader_wrapper"><span class="tb_slider_loader"></span></span>');var c=JSON.parse(a("#themify-hooks-field-ids").val()),d=1;0<c.length?d=Math.max.apply(null,c)+1:c=[];a.ajax({url:ajaxurl,type:"post",data:{action:"themify_hooks_add_item",field_id:d,
nonce:themify_js_vars.nonce},success:function(b){var e=a("#hook-content-list");c.push(d);a("#themify-hooks-field-ids").val(JSON.stringify(c));a("#setting-hooks .tb_slider_loader_wrapper").remove();e.append(b);a("textarea[name=setting-hooks-"+d+"-code]",e).html("");a("select[name=setting-hooks-"+d+"-location] optgroup:first-child option[value=themify_body_start]",e).attr("selected",!0);1<e.find("li").length&&a(".themify-admin-lightbox:first").clone().removeClass("themify-admin-lightbox-1").addClass("themify-admin-lightbox-"+
d).data("item",d).insertAfter(".themify-admin-lightbox:last");a(".lightbox_container",".themify-admin-lightbox-"+d).html("");a("#setting-hooks-"+d+"-visibility",e).val("");a(".themify-admin-lightbox:last").removeClass("is-loaded")}})});var I=a("#hook-content-list");I.sortable({placeholder:"social-link-placeholder",handle:".social-drag",update:function(){var b=[];I.find("li").each(function(){b.push(parseInt(a(this).attr("data-id")))});a("#themify-hooks-field-ids").val(JSON.stringify(b))}});p=a(".see-hook-locations");
0<p.length&&p.magnificPopup({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler" style="max-width: 100% !important; height: 100%;"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>'}});a("#setting-editor-gfonts-list").on("change",function(){var b=a(this).val();a(this).next().val(JSON.stringify(b))}).change();a(".required-addons.themify-modal").appendTo("form#themify");A.on("click","#demo-import-notice .skin-preview",function(b){a(b.target).parent().hasClass("view-demo")||
b.preventDefault();a("#demo-import-notice .skin-preview").removeClass("selected");a(this).addClass("selected");a('#skins .skin-preview[data-skin="'+a(this).data("skin")+'"]').trigger("click")});a("#demo-import-notice .skin-demo-import").click(function(){a("#skins .skin-preview.selected .skin-demo-import").click()});A.on("click","#skins .skin-demo-import",function(b){b.preventDefault();var c=a(this).closest(".skin-preview").find(".skin-demo-content").data("skin"),d=function(b){a.ajax({url:ajaxurl,
data:{action:"themify_import_sample_content",skin:c,import_images:b?"yes":"no",nonce:themify_js_vars.nonce},type:"POST",success:function(a){var b=function(){g();window.location=themify_js_vars.admin_url};a.success?n(a,b):(g(),alert(a.data.error))},beforeSend:function(){k()},complete:function(){}})};b=a('#themify .required-addons[data-skin="'+c+'"]:first');if(b.length)b.fadeIn().find(".proceed-import").off().on("click",function(b){b.preventDefault();d(a(this).parent().find(".tf_import_images input:checkbox").is(":checked"))}).end().find("a.external-link").on("click",
function(){window.location=a(this).attr("href")})}).on("click","#skins .skin-erase-demo",function(b){b.preventDefault();b=a(this).closest(".skin-demo-content");a.ajax({url:ajaxurl,data:{action:"themify_erase_sample_content",skin:b.data("skin"),nonce:themify_js_vars.nonce},type:"POST",success:function(a){a.success||alert(a.data.error)},beforeSend:function(){k()},complete:function(){g()}})});a("#demo-import-notice .import-sample-content").on("click",function(){a("#demo-import .import-sample-content").click()});
a("#demo-import .import-sample-content").on("click",function(){var b=a(this),c=a("#themify").find(".required-addons");if(b.hasClass("disabled"))return!1;var d=function(c){a.ajax({url:ajaxurl,dataType:"json",data:{action:"themify_import_sample_content",import_images:c?"yes":"no",nonce:themify_js_vars.nonce},type:"POST",success:function(a){var c=function(){b.find("span").text(b.attr("data-success"));g();window.location=themify_js_vars.admin_url};a.success?n(a,c):(g(),alert(a.data.error))},beforeSend:function(){b.find("span").text(b.attr("data-importing"));
k()},complete:function(){}})};if(c.length)c.fadeIn().find(".proceed-import").off().on("click",function(b){b.preventDefault();d(a(this).parent().find(".tf_import_images input:checkbox").is(":checked"))}).end().find("a.external-link").on("click",function(){window.location=a(this).attr("href")});return!1});a(".erase-sample-content").on("click",function(){var b=a(this);if(b.hasClass("disabled"))return!1;b.addClass("disabled");a.ajax({url:ajaxurl,data:{action:"themify_erase_sample_content",nonce:themify_js_vars.nonce},
type:"POST",success:function(a){a.success||alert(a.data.error)},beforeSend:function(){b.find("span").text(b.attr("data-erasing"));k()},complete:function(){b.find("span").text(b.attr("data-success"));g()}});return!1});a(".themify-modal .dismiss-import-notice").on("click",function(){a(this).closest(".themify-modal").fadeOut();return!1});a(".notice-dismiss").on("click",function(){var b=a(this).data("notice");a.post(ajaxurl,{action:"themify_notice_dismiss",notice:b,nonce:themify_js_vars.nonce},function(){a(".js-"+
b+"-notice").fadeOut(300,function(){a(this).remove()})});return!1});r.find("select").not("[multiple]").wrap('<div class="selectwrapper"></div>');a(".selectwrapper").click(function(){a(this).toggleClass("clicked")});l(a("#themify, .toplevel_page_themify-builder #wpbody-content"));a(".js-clear-builder-cache").on("click",function(b){b.preventDefault();var c=a(this);!c.hasClass("disabled")&&window.confirm(c.data("confim"))&&(c.addClass("disabled"),a.ajax({url:ajaxurl,data:{action:c.data("action"),nonce:themify_js_vars.nonce},
type:"POST",beforeSend:function(){c.find("span").text(c.data("clearing-text")).end().find("i").removeClass().addClass("fa fa-cog fa-spin")},success:function(){c.find("span").text(c.data("done-text")).end().find("i").removeClass().addClass("fa fa-check-square");setTimeout(function(){c.find("span").text(c.data("default-text")).end().find("i").removeClass().addClass(c.data("default-icon")).end().removeClass("disabled")},5E3)}}))});a(".input-range .range-slider").each(function(){var b=a(this),c=b.next(),
d=c.val().split("-"),e=c.data("range")?!0:!1;b.slider({range:e,min:c.data("min"),max:c.data("max"),values:d,slide:function(a,b){b.values[0]!=b.values[1]&&e?c.val(b.values[0]+"-"+b.values[1]):c.val(b.values[0])}});c.on("keyup",function(){var c=a(this),d=parseInt(c.val());d<parseInt(c.data("default-min"))&&b.slider("option","min",d);d>parseInt(c.data("default-max"))&&b.slider("option","max",d);b.slider("values",[d])})});void 0!==window.wp&&void 0!==window.wp.media&&"undefined"!==typeof wp.media.featuredImage&&
(a("body").on("themify_metabox_lib_selected",function(a,c,d,e){c.data("submit").featured&&wp.media.featuredImage.set(d.id)}).on("themify_plupload_selected",function(a,c,d){c.data("featured")&&wp.media.featuredImage.set(d.id)}).on("themify_wp_media_featured_image_set",function(b,c,d){b=a("#post_image").closest(".themify_field_row");-1==c?b.find(".themify_featimg_remove a").click():themifyMediaLib.setPreviewIcon(b,a(d).find("#set-post-thumbnail img").attr("src"))}),a("#post_image").closest(".themify_field_row").find(".themify_featimg_remove a").click(function(){a("#remove-post-thumbnail").click()}),
wp.media.featuredImage.set=function(b){var c=wp.media.view.settings;c.post.featuredImageId=b;wp.media.post("get-post-thumbnail-html",{post_id:c.post.id,thumbnail_id:c.post.featuredImageId,_wpnonce:c.post.nonce}).done(function(c){"0"==c?window.alert(window.setPostThumbnailL10n.error):(a(".inside","#postimagediv").html(c),a("body").triggerHandler("themify_wp_media_featured_image_set",[b,c]))})});m();y();K()});a(function(){var e=a("#themify .preview-icon");e.length&&e.each(function(){var e=a(this),f=
e.attr("title");e.removeAttr("title").append('<span class="tm-option-title-fw">'+f+"</span>")})})})(jQuery);
