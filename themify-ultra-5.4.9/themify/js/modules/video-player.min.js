'use strict';(function(m,c){const t=m.isTouch?window.PointerEvent?"pointerdown":"touchstart":"click",R=/iPhone|iPad|iPod|Mac OS/i.test(window.navigator.userAgent),B=function(a){a=Infinity===a?0:a;a=(new Date(1E3*a)).toISOString().substr(11,8).split(":");"00"===a[0]&&a.splice(0,1);return a.join(":")},X=function(a){try{if(a.requestFullscreen)return a.requestFullscreen();if(a.webkitEnterFullscreen)return a.webkitEnterFullscreen();if(a.webkitrequestFullscreen)return a.webkitRequestFullscreen();if(a.mozRequestFullscreen)return a.mozRequestFullScreen()}catch(g){return console.error(g),
!1}},Y=function(){try{return c.exitFullscreen?c.exitFullscreen():c.webkitExitFullscreen||c.webkitExitFullscreen?c.webkitExitFullscreen():c.mozCancelFullScreen?c.mozCancelFullScreen():c.msExitFullscreen?c.msExitFullscreen():!1}catch(a){return console.error(a),!1}},Z=function(a){return c.exitFullscreen?"":c.webkitExitFullscreen||a.webkitSupportsFullscreen?"webkit":c.mozCancelFullScreen?"moz":c.msExitFullscreen?"ms":!1},S=function(a){const g=Z(a);return!1===g?!1:a.hasOwnProperty("webkitDisplayingFullscreen")?
a.webkitDisplayingFullscreen:""===g?c.fullscreenElement:c[g+"FullscreenElement"]},q=function(a,g){const h=c.createElementNS("http://www.w3.org/2000/svg","use"),d=c.createElementNS("http://www.w3.org/2000/svg","svg");a="tf-"+a;d.setAttribute("class","tf_fa "+(g?a+" "+g:a));h.setAttributeNS(null,"href","#"+a);d.appendChild(h);return d},aa=function(a){a="tf_video_"+a+"=";for(let g=c.cookie.split(";"),h=g.length-1;-1<h;--h){let d=g[h];for(;" "===d[0];)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,
d.length)}return null},ba=function(a,g,h){var d="";a="tf_video_"+a;h&&(d=new Date,d.setTime(d.getTime()+864E5*h),d="; expires="+d.toUTCString());c.cookie=a+"="+(g||"")+d+"; path=/"},ha=function(a,g){g=c.createDocumentFragment();var h=Z(a);const d=m.hash(a.currentSrc.split(".").slice(0,-1).join(".")),C=parseFloat(aa(d))||0;var k=aa("vol_"+d)||-1;const f=a.parentNode;var w=c.createElement("div");const x=c.createElement("div"),ca=c.createElement("div"),y=c.createElement("div"),T=c.createElement("div"),
U=c.createElement("div"),z=c.createElement("div"),K=c.createElement("div"),L=c.createElement("div"),D=c.createElement("div"),V=c.createElement("div"),M=c.createElement("div"),N=c.createElement("div"),r=c.createElement("button"),O=c.createElement("button"),E=c.createElement("button"),A=c.createElement("button"),F=c.createElement("button"),G=c.createElement("button"),u=c.createElement("input"),v=c.createElement("input"),da=!1===R||"mobile"!==m.device;let P=!0,Q=!1,H=!1,W;ca.className="tf_loader";w.className=
"tf_video_container tf_w tf_rel tf_box";x.className="tf_video_wrap tf_w tf_mw tf_box";V.className="tf_play_wrap";D.className="tf_video_controls";y.className="tf_video_progress_wrap tf_rel tf_textl";T.className="tf_video_progress_loaded tf_w tf_h tf_abs";U.className="tf_video_progress_current tf_w tf_h tf_abs";u.className="tf_video_progress_range tf_w tf_h tf_abs";u.value=0;u.type="range";u.min=0;u.max=100;E.className="tf_video_play";O.className="tf_video_play tf_big_video_play";E.appendChild(q("fas-undo-alt",
"tf_hide"));O.appendChild(q("fas-undo-alt","tf_hide"));f.tabIndex=0;-1!==k&&(k?a.volume=k:a.muted=0);r.type=O.type=E.type=A.type=F.type=G.type="button";F.className="tf_video_seek tf_video_seek_left tf_abs";G.className="tf_video_seek tf_video_seek_right tf_abs";M.className="tf_video_current_time";N.className="tf_video_total_time";z.className="tf_video_hover tf_abs tf_hide tf_box tf_textc";A.className="tf_video_fullscreen";M.textContent=B(a.currentTime);N.textContent=B(a.duration);w=function(b){f.classList.add("tf_video_waiting");
this.addEventListener("seeking"===b.type?"seeked":"playing",function(){f.classList.remove("tf_video_waiting")},{passive:!0,once:!0})};const ea=function(){try{a.webkitSupportsPresentationMode?a.webkitSetPresentationMode("picture-in-picture"===a.webkitPresentationMode?"inline":"picture-in-picture"):(S(a)&&Y(),a!==c.pictureInPictureElement?a.requestPictureInPicture():c.exitPictureInPicture())}catch(b){console.error(b)}},ia=function(){f.classList.add("tf_video_touched");f.classList.remove("tf_hide_controls");
W&&clearTimeout(W);W=setTimeout(function(){f.classList.remove("tf_video_touched")},2500)},fa=function(){!1===H&&(H=!0,"desktop"!==m.device&&(a.muted=!0));a.play()};x.addEventListener(t,function(b){b.stopPropagation()},{passive:!0});f.addEventListener(t,function(b){const e=b.target.closest(".tf_video_seek");b.stopImmediatePropagation();a.paused||!1===H||!m.isTouch||!e&&this.classList.contains("tf_video_touched")?(this.classList.remove("tf_video_touched"),a.paused||!1===H?fa():a.pause()):(ia(),e&&(a.currentTime+=
e.classList.contains("tf_video_seek_left")?-15:15))},{passive:!0});E.addEventListener(t,function(b){b.stopPropagation();a.paused||!1===H?fa():a.pause()},{passive:!0});if(!m.isTouch)y.addEventListener("mouseenter",function(b){if(!isNaN(a.duration)){z.classList.remove("tf_hide");const e=this.clientWidth,n=parseFloat(z.clientWidth/2),I=a.duration,l=function(p){p=void 0!==p.layerX?p.layerX:p.offsetX;0<p-n&&p<=e&&(z.style.transform="translateX("+(p-n)+"px)",!1===Q&&(z.textContent=B(parseFloat(p/e)*I)))};
this.addEventListener("mouseleave",function(){z.classList.add("tf_hide");this.removeEventListener("mousemove",l,{passive:!0})},{passive:!0,once:!0});this.addEventListener("mousemove",l,{passive:!0})}},{passive:!0});else if(!0===R){var J=window.navigator.userAgent;13.5>parseFloat(J.substr(J.indexOf("OS ")+3,4).replace("_","."))&&(J=function(b){var e="touchstart"===b.type?b.touches[0]?b.touches[0]:b.changedTouches[0]:b;b=this.getElementsByTagName("input")[0];const n=this.getBoundingClientRect();e=b.classList.contains("tf_video_volumn_range")?
(e.clientY-n.top)/n.height:(e.clientX-n.left)/n.width;b.value=parseInt(100*e);m.triggerEvent(b,"input");m.triggerEvent(b,"change")},y.addEventListener(t,J,{passive:!0}),!0===da&&L.addEventListener(t,J,{passive:!0}))}u.addEventListener("input",function(b){b.preventDefault();isNaN(a.duration)||(a.paused||!0!==P||a.pause(),Q=!0,b=parseInt(this.value),b=100===b?a.duration-1:parseFloat(b*a.duration/100).toFixed(4),a.currentTime=b,m.isTouch||(z.textContent=B(b)))});u.addEventListener("change",function(b){b.preventDefault();
isNaN(a.duration)||(Q=P=!1,a.paused&&a.play().then(e=>{P=!0}).catch(e=>{P=!0}))});a.addEventListener("progress",function(){0<this.buffered.length&&(T.style.transform="scaleX("+parseFloat(this.buffered.end(0)/this.duration).toFixed(4)+")")},{passive:!0});a.addEventListener("durationchange",function(){N.textContent=B(this.duration)},{passive:!0});a.addEventListener("seeking",w,{passive:!0});a.addEventListener("waiting",w,{passive:!0});a.addEventListener("emptied",w,{passive:!0});a.addEventListener("pause",
function(){f.classList.remove("tf_video_is_playing")},{passive:!0});a.addEventListener("play",function(){f.classList.add("tf_video_is_playing");for(let b=c.getElementsByTagName("video"),e=b.length-1;-1<e;--e)b[e]!==this&&b[e].pause()},{passive:!0});a.addEventListener("playing",function(){f.classList.remove("tf_video_ended")},{passive:!0});a.addEventListener("ended",function(){f.classList.add("tf_video_ended")},{passive:!0});a.addEventListener("timeupdate",function(){if(!isNaN(this.duration)){M.textContent=
B(this.currentTime);const b=parseFloat(this.currentTime/a.duration);U.style.transform="scaleX("+b.toFixed(4)+")";!1===Q&&(u.value=parseInt(100*b));ba(d,this.currentTime,30)}},{passive:!0});if(!1!==h){let b=!1,e=!1;const n=function(){I(!0);e&&clearTimeout(e);e=setTimeout(I,3E3)},I=function(l){!0===b||!0===l?(b=!1,f.classList.remove("tf_hide_controls")):(b=!0,f.classList.add("tf_hide_controls"))};w=function(l){const p=l.touches?l.touches[0].target:l.target;if("dblclick"!==l.type||p&&!p.closest(".tf_video_wrap"))l.preventDefault(),
S(a)?Y(a):(l=function(){X(f)||X(a)},c.pictureInPictureElement||"picture-in-picture"===a.webkitPresentationMode?(ea(),setTimeout(l,80)):l())};A.addEventListener(t,w);m.isTouch||f.addEventListener("dblclick",w);f.addEventListener(h+"fullscreenchange",function(l){S(a)?(f.classList.add("tf_is_fullscreen"),f.addEventListener("mousemove",n,{passive:!0}),a.addEventListener("pause",n,{passive:!0}),e&&clearTimeout(e),e=setTimeout(I,3E3)):(f.classList.remove("tf_is_fullscreen","tf_hide_controls"),e&&clearTimeout(e),
a.removeEventListener("pause",n,{passive:!0}),f.removeEventListener("mousemove",n,{passive:!0}))},{passive:!0})}else A.className+=" tf_fullscreen_disabled tf_play_disabled";A.appendChild(q("fas-expand"));y.appendChild(T);y.appendChild(u);y.appendChild(U);y.appendChild(z);a.hasAttribute("data-download")&&(h=c.createElement("a"),h.setAttribute("download",""),h.href=a.src,h.className="tf_video_download",h.appendChild(q("fas-download")),D.appendChild(h));!0===da&&(v.addEventListener("input",function(b){b.preventDefault();
b=parseFloat(this.value/100).toFixed(3);a.volume=b;a.muted=0<b?!1:!0}),a.addEventListener("volumechange",function(){!0===this.muted||0===this.volume?r.classList.add("tf_muted"):r.classList.remove("tf_muted");ba("vol_"+d,this.volume,120)},{passive:!0}),r.addEventListener(t,function(b){a.muted=!a.muted;a.muted||0!==a.volume||(v.value=50,m.triggerEvent(v,"input"))},{passive:!0}),r.appendChild(q("fas-volume-up")),r.appendChild(q("fas-volume-mute")),K.appendChild(r),v.min=0,v.max=100,v.type="range",v.value=
-1<k?100*k:50,L.className="tf_video_volumn_inner",v.className="tf_video_volumn_range",K.className="tf_video_volumn_wrap tf_rel",r.className="tf_video_mute tf_rel tf_overflow",a.muted&&(r.className+=" tf_muted"),L.appendChild(v),K.appendChild(L),D.appendChild(K));!a.hasAttribute("disablePictureInPicture")&&c.pictureInPictureEnabled&&(k=c.createElement("button"),k.addEventListener(t,ea,{passive:!0}),k.className="tf_video_pip",a.addEventListener("enterpictureinpicture",function(b){f.classList.add("tf_is_pip")},
{passive:!0}),a.addEventListener("leavepictureinpicture",function(b){f.classList.remove("tf_is_pip")},{passive:!0}),k.appendChild(q("fas-external-link-alt")),D.appendChild(k));D.appendChild(A);V.appendChild(E);x.appendChild(V);x.appendChild(M);x.appendChild(y);x.appendChild(N);x.appendChild(D);G.innerHTML=F.innerHTML="<span>15</span>";G.appendChild(q("fas-redo-alt"));F.appendChild(q("fas-undo-alt"));g.appendChild(F);g.appendChild(G);g.appendChild(x);g.appendChild(O);g.appendChild(ca);f.appendChild(g);
window.WebKitPlaybackTargetAvailabilityEvent&&a.addEventListener("webkitplaybacktargetavailabilitychanged",function(b){"available"===b.availability&&(b=c.createElement("button"),b.className="tf_video_airplay",b.addEventListener(t,function(){a.webkitShowPlaybackTargetPicker()},{passive:!0}),b.appendChild(q("fas-airplay")),A.before(b))},{passive:!0,once:!0});0<C&&C<a.duration&&(a.currentTime=C);a.autoplay&&f.classList.add("tf_video_is_playing");a.setAttribute("webkit-playsinline","1");a.setAttribute("playsinline",
"1");a.removeAttribute("controls");f.classList.remove("tf_lazy")},ja=function(a,g){for(let h=a.length-1;-1<h;--h){let d=a[h],C=d.parentNode;if(!C.classList.contains("tf_video_lazy")){let k=c.createElement("div");k.className="tf_video_lazy tf_w tf_box tf_rel tf_overflow tf_lazy";k.appendChild(d);C.appendChild(k)}4===d.readyState?ha(d,g):m.requestIdleCallback(function(){d.addEventListener("loadedmetadata",function(){ha(this)},{passive:!0,once:!0});d.setAttribute("preload","metadata");!0===R&&d.load()},
200)}};m.on("tf_video_init",function(a){a instanceof jQuery?a=a.get():void 0===a.length&&(a=[a]);ja(a)})})(Themify,document);
