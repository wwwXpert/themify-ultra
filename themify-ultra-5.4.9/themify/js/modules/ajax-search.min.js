'use strict';(function(n){const v=function(a){const t=[],k="overlay"===a.type?a.container.querySelector("#searchform input"):a.el;let p,e,q;if("overlay"===a.type){e=a.container.getElementsByClassName("search-results-wrap")[0];const h=function(){a.container.classList.toggle("search-active",0<k.value.length)},r=a.container.getElementsByClassName("close-search-box")[0];a.el.addEventListener("click",function(l){l.preventDefault();h();a.container.classList.add("tf_fd_in");k.focus();n.body[0].style.overflowY=
"hidden";n.body[0].classList.add("searchform-slidedown")});r&&r.addEventListener("click",function(l){l.preventDefault();h();p&&q.abort();a.container.classList.remove("tf_fd_in");n.body[0].style.overflowY="";n.body[0].classList.remove("searchform-slidedown")})}else"dropdown"===a.type&&(a.container.classList.add("tf_rel","tf_s_dropdown"),a.container.insertAdjacentHTML("beforeend",'<div class="search-results-wrap tf_ajax_s_dropdown tf_scrollbar" style="display:none"></div>'),e=a.container.getElementsByClassName("search-results-wrap")[0],
k.addEventListener("blur",function(h){h.relatedTarget&&null!==h.relatedTarget.closest(".search-results-wrap")||(e.style.display="none")},{passive:!0}));if(e){const h=function(d){let c=d.getAttribute("href").replace("#","");if("all"===c)c="item";else{const b=e.getElementsByClassName("result-item");for(var g=b.length-1;-1<g;g--)b[g].classList.remove("tf_fd_in"),b[g].classList.add("tf_fd_out");setTimeout(function(){for(let u=b.length-1;-1<u;u--)b[u].classList.add("tf_hide")},400)}if(g=e.querySelector("#result-link-"+
c)){const b=document.getElementsByClassName("view-all-button")[0];b&&(b.style.display="none");g.style.display=""}const m=e.getElementsByClassName("result-"+c);setTimeout(function(){if(m[0])for(let b=m.length-1;-1<b;b--)m[b].classList.remove("tf_hide","tf_fd_out"),m[b].classList.add("tf_fd_in")},401);const f=d.closest("li");f.classList.add("active");Array.prototype.filter.call(f.parentNode.children,function(b){"LI"===f.tagName&&b!==f&&b.classList.remove("active")});"dropdown"===a.type&&k.focus()};
e.addEventListener("click",function(d){const c=d.target;"A"===c.tagName&&c.closest(".search-option-tab")&&(d.preventDefault(),h(c))});k.autocomplete="off";const r=function(d){if(null===d)return 0;let c=0;for(;d=d.previousElementSibling;)c++;return c},l=function(d){0>d&&(d=0);const c=e.querySelectorAll(".search-option-tab li");c[d]&&h(c[d].querySelector("a"));e.style.display=""};k.addEventListener("keyup",function(d){0<this.value.length?a.container.classList.add("search-active"):(a.container.classList.remove("search-active"),
e.style.display="none");if(48<=d.keyCode&&57>=d.keyCode||65<=d.keyCode&&90>=d.keyCode||8===d.keyCode||229===d.keyCode){let c=this.value.trim();if(c){const g=r(e.querySelector(".search-option-tab li.active"));t[c]?(e.style.display="none",e.innerHTML=t[c],l(g)):setTimeout(function(){c=k.value.trim();p&&q.abort();if(c){var m=new Headers({Accept:"application/json","X-Requested-With":"XMLHttpRequest"}),f=new FormData;f.append("action","themify_search_autocomplete");f.append("s",c);f.append("post_type",
a.post_type?a.post_type:"");a.term&&(f.append("term",a.term),f.append("tax",a.tax));a.container.classList.add("themify-loading");p=!0;q=new AbortController;fetch(themify_vars.ajax_url,{signal:q.signal,method:"POST",headers:m,body:f}).then(function(b){return b.text()}).then(b=>{c?b&&(e.style.display="none",e.innerHTML=b,l(g),t[c]=b):e.innerHTML="";a.container.classList.remove("themify-loading");p=!1}).catch(b=>{"AbortError"!==b.name&&console.error("Uh oh, an error!",b)})}else e.innerHTML=""},100)}else e.innerHTML=
""}},{passive:!0})}};n.on("themify_overlay_search_init",function(a){v(a)})})(Themify);
