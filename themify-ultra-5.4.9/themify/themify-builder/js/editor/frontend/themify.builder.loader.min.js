/*
 Themify Builder - Asynchronous Script and Styles Loader */
'use strict';(function(b,g,a){let m;const S=function(){m.ajax({url:themify_vars.ajax_url,type:"POST",data:{action:"tb_load_editor"},success:function(e){var d=a.createElement("div");const h={},r={},q=a.createDocumentFragment();a.createDocumentFragment();const y=b.body[0],l=function(){h[this.src]=!0;m.ui&&m.fn.mouse&&m.fn.sortable&&b.trigger("tb_load_iframe");for(var p in r)if(!0!==h[p])return!1;p=a.createDocumentFragment();for(let u=0,f=n.length;u<f;++u)p.appendChild(n[u]);y.appendChild(p);g.tinymce&&
tinyMCE&&(tinyMCEPreInit.mceInit.tb_lb_hidden_editor.schema="html5",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.element_format="html",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.wp_autoresize_on=!1,tinyMCEPreInit.mceInit.tb_lb_hidden_editor.plugins="charmap,colorpicker,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpautoresize,wpeditimage,wpemoji,wpgallery,wpdialogs,wptextpattern,wpview,wplink",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.indent="simple",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.ie7_compat=
!1,tinyMCEPreInit.mceInit.tb_lb_hidden_editor.root_name="div",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.relative_urls=!0,tinyMCE.execCommand("mceRemoveEditor",!0,"tb_lb_hidden_editor"),m("#wp-tb_lb_hidden_editor-editor-container,#wp-tb_lb_hidden_editor-editor-tools").remove())};d.innerHTML=e;e=d.querySelector("#tb_tinymce_wrap").children;const n=[];for(let p=0,u=e.length;p<u;++p)if("SCRIPT"!==e[0].tagName||e[0].getAttribute("type")&&"text/javascript"!==e[0].getAttribute("type"))q.appendChild(e[0]);
else{d=a.createElement("script");for(let f=e[0].attributes,z=f.length-1;-1<z;--z)d.setAttribute(f[z].name,f[z].value);var c=e[0].getAttribute("src");c?void 0===r[c]&&null===a.querySelector('script[src="'+c+'"]')&&(d.async=!1,r[c]=!0,d.addEventListener("load",l,{once:!0,passive:!0}),d.addEventListener("error",l,{once:!0,passive:!0}),q.appendChild(d)):(c=e[0].innerHTML,d.innerHTML=c,-1===c.indexOf("tinyMCEPreInit.")&&-1===c.indexOf(".addI18n")&&-1===c.indexOf(".i18n")&&-1===c.indexOf("wp.editor")?q.appendChild(d):
n.push(d));e[0].remove()}try{y.appendChild(q)}catch(p){}}})},R=function(){let e;m=jQuery;if(!g.wp||!wp.customize){var d=a.getElementsByClassName("themify_builder_content"),h=a.getElementsByClassName("toggle_tb_builder")[0];let l=!1;e=h?h.getElementsByClassName("tb_front_icon")[0].getAttribute("data-id"):!1;for(let n=d.length-1;-1<n;--n){var r=d[n].getAttribute("data-postid");let c=a.createElement("a");var q=a.createElement("span");r===e&&(l=!0);c.href="javascript:void(0);";c.className="tb_turn_on js-turn-on-builder";
q.className="dashicons dashicons-edit";q.setAttribute("data-id",r);c.appendChild(q);r=d[n].dataset.label||d[n].parentNode.dataset.label;q=a.createElement("span");q.innerHTML=r?r:tbLoaderVars.turnOnBuilder;c.appendChild(q);d[n].insertAdjacentElement(r?"beforeBegin":"afterEnd",c)}h||(h=a.getElementsByClassName("js-turn-on-builder")[0],h||(d=a.getElementsByClassName("dashicons-edit"),e=d[0]?d[0].getAttribute("data-id"):null));h&&(!1===l?(e=null,h.classList.add("tb_disabled_turn_on")):h.classList.remove("tb_disabled_turn_on"))}let y=
0<g.location.href.indexOf("?")?"&":"?";y=g.location.href.replace(g.location.hash,"").replace("#","")+y+"tb-preview=1&ver="+g.themify_vars.version;b.body.on("click.tb_loading",".toggle_tb_builder:not(.tb_disabled_turn_on) > a, a.js-turn-on-builder",function(l){l.preventDefault();l.stopPropagation();const n=this.classList.contains("tb_restriction");b.LoadAsync(tbLocalScript.builder_url+"/js/editor/themify-ticks.js",function(){n&&(TB_Ticks.init(tbLocalScript.ticks).show(),init())},null,null,function(){return!!g.TB_Ticks});
b.body.off("click.tb_loading");if(!n){var c=this.classList.contains("js-turn-on-builder")?this.childNodes[0].getAttribute("data-id"):e;if(c&&!this.parentNode.classList.contains("tb_disabled_turn_on")){b.lazyDisable=b.lazyScrolling=!0;null!==b.observer&&b.observer.disconnect();var p=[],u=m(a).scrollTop(),f=b.convert(a.head.getElementsByTagName("link")).concat(b.convert(a.head.getElementsByTagName("style"))),z=b.body.children(),F=a.createElement("div"),C=a.createElement("div"),J=a.createElement("div"),
K=a.createElement("div"),N=a.createElement("div"),x=a.createElement("iframe");F.className="tb_workspace_container";C.className="tb_vertical_bars";J.id="tb_left_bar";K.id="tb_right_bar";J.className=K.className="tb_middle_bar";N.className="tb_vertical_change_tooltip";x.className="tb_iframe";x.id=x.name="tb_iframe";x.scrolling=b.isTouch?"no":"yes";x.src=y+"&tb-id="+c;b.off("builder_load_module_partial");m(a).off("ajaxComplete");if(null!==tbLoaderVars.styles)for(var v in tbLoaderVars.styles)""!==tbLoaderVars.styles[v]&&
(b.LoadCss(v,tbLoaderVars.styles[v]),p[v+"?ver="+tbLoaderVars.styles[v]]=1);var E=a.createElement("div");l=a.createElement("div");v=a.createElement("div");var O=a.getElementsByClassName("tb_front_icon")[0];E.id="tb_alert";E.className="tb_busy";l.id="tb_fixed_bottom_scroll";l.className="tb_fixed_scroll";v.id="builder_progress";v.appendChild(a.createElement("div"));a.body.insertAdjacentElement("afterbegin",l);a.body.appendChild(E);O&&O.parentNode.appendChild(v);b.on("tb_load_iframe",function(){C.appendChild(J);
C.appendChild(x);C.appendChild(K);C.appendChild(N);F.appendChild(C);x.addEventListener("load",function(){const P=this,t=P.contentWindow;let G;b.body.one("themify_builder_ready",function(A){m(E).fadeOut(100,function(){this.classList.remove("tb_busy")});A=b.body[0].classList.contains("archive");let H="themify_builder_active builder-breakpoint-desktop page-loaded";b.isTouch&&(H+=" tb_touch");A&&(H+=" archive");"1"===tbLoaderVars.isGlobalStylePost&&(H+=" gs_post");b.body[0].className=H;b.body[0].removeAttribute("style");
F.style.display="block";A=t.tb_app.Instances.Builder[0].$el.offset().top;A>u&&(u=A);t.scrollTo(0,u);b.iframe=x;b.is_builder_active=!0;setTimeout(function(){z.hide();for(var k=f.length-1;-1<k;--k)if(f[k]&&f[k].parentNode){var D=f[k].href,I=f[k].id;D?p[D]||-1!==D.indexOf("wp-includes")||-1!==D.indexOf("admin-bar")||(f[k].setAttribute("disabled",!0),f[k].parentNode.removeChild(f[k])):"tf_fonts_style"!==I&&"tf_lazy_common"!==I&&f[k].parentNode.removeChild(f[k])}f=p=tbLoaderVars=E=null;m(".themify_builder_content,#wpadminbar,header").remove();
z.filter("ul,a,video,audio").filter(":not(:has(link))").remove();k="scroll tfsmartresize debouncedresize throttledresize resize mouseenter keydown keyup mousedown assignVideo".split(" ");D=m(g);I=m(a);for(let w=k.length-1;-1<w;--w)D.off(k[w]),I.off(k[w]),b.body.off(k[w]);a.documentElement.removeAttribute("style");a.documentElement.removeAttribute("class");const L=t.tbLocalScript.ticks;L.postID=c;G.hasClass("tb_restriction")?setTimeout(function(){a.body.appendChild(G.find("#tmpl-builder-restriction")[0]);
TB_Ticks.init(L,t).show()},1E3):setTimeout(function(){TB_Ticks.init(L,t).ticks()},5E3);setTimeout(function(){const w="ThemifyBuilderModuleJs c _wpemojiSettings twemoji themifyScript tbLocalScript tbScrollHighlight google ThemifyGallery Animation $f Froogaloop SliderProSlide SliderProUtils ThemifySlider FixedHeader LayoutAndFilter WOW Waypoint $slidernav google Microsoft Rellax module$contents$MapsEvent_MapsEvent module$contents$mapsapi$overlay$OverlayView_OverlayView wc_add_to_cart_params woocommerce_params wc_cart_fragments_params wc_single_product_params tf_mobile_menu_trigger_point themifyMobileMenuTrigger".split(" ");
for(let B=w.length-1;-1<B;--B)g[w[B]]&&(g[w[B]]=null);b.events={};g.wp.emoji=null;g.ajaxurl=themify_vars.ajax_url;b.cssLazy=[];for(let B=t.document.querySelectorAll("[data-lazy]"),M=B.length-1;-1<M;--M)B[M].removeAttribute("data-lazy")},3E3)},800)});const Q=function(){t.themifyBuilder.post_ID=c;G=t.jQuery("body");G.trigger("builderiframeloaded.themify",P)};if("__rocketLoaderLoadProgressSimulator"in t){const A=setInterval(function(){"complete"===t.__rocketLoaderLoadProgressSimulator.simulatedReadyState&&
(clearInterval(A),Q())},10)}else Q()},{once:!0,passive:!0});a.body.appendChild(F)},!0);S()}}});b.body[0].classList.contains("tb_restriction")||-1!==g.location.href.indexOf("tb-id")||("#builder_active"===g.location.hash||["single-tbuilder_layout","single-tbuilder_layout_part","single-tbp_template"].some(l=>b.body[0].classList.contains(l))?(m(".toggle_tb_builder > a").first().click(),g.location.hash=""):(h=a.createElement("link"),h.href=y+(e?"&tb-id="+e:""),h.rel="prefetch",h.setAttribute("as","document"),
a.head.appendChild(h)))};if(!0===g.loaded)R();else b.on("tf_init",R,!0)})(Themify,window,document);
