'use strict';(function(k,l){const m="mobile"===k.device,n=function(a){return{mute:"unmute"!==a.getAttribute("data-mutevideo"),loop:"unloop"!==a.getAttribute("data-unloopvideo")}},r=function(a){k.cssLazy.tb_fullwidth_video?a():k.LoadCss(ThemifyBuilderModuleJs.cssUrl+"fullwidthvideo.css",null,null,null,function(){k.cssLazy.tb_fullwidth_video=!0;a&&a()})},q=function(a,f,b,e){const c=l.createElement("div"),d=l.createElement("iframe");c.className="tb_fullwidth_video tf_lazy tb_"+b+" tf_abs tf_w tf_h tf_overflow";
d.setAttribute("allowfullscreen",!1);d.setAttribute("webkitallowfullscreen",!1);d.setAttribute("mozallowfullscreen",!1);d.className="tf_mw tf_w tf_h";d.id=a;d.src=encodeURI(f);e&&(d.setAttribute("data-autoplay",!0),d.setAttribute("allow","autoplay"));d.setAttribute("unselectable","on");c.appendChild(d);return c},t=function(a,f,b){a=n(a);const e="tb_vimeo_"+b;f=new URL(f);b="https://player.vimeo.com/video/"+b+"?api=1&byline=0&autopause=0&portrait=0&title=0&badge=0&controls=0&playsinline=1&callback=tb_vimeo&player_id="+
e;let c=!1;a.loop&&(b+="&loop=1");!1!==a.autoplay&&(b+="&autoplay=1",c=a.mute=!0);!0===a.mute&&(b+="&muted=1");f.hash&&0===f.hash.indexOf("#t=")&&(b+=f.hash);a=q(e,b,"vimeo",c);const d=a.firstChild,h=function(g){if(-1!==g.origin.indexOf("player.vimeo.com")&&(g=JSON.parse(g.data),e===g.player_id))if("ready"===g.event)d.contentWindow.postMessage(JSON.stringify({method:"getVideoWidth"}),"https://player.vimeo.com"),d.contentWindow.postMessage(JSON.stringify({method:"getVideoHeight"}),"https://player.vimeo.com");
else if("getVideoWidth"===g.method||"getVideoHeight"===g.method){"getVideoWidth"===g.method?d.setAttribute("width",g.value):d.setAttribute("height",g.value);g=d.getAttribute("width");const p=d.getAttribute("height");p&&g&&(window.removeEventListener("message",h,{passive:!0}),d.style.minHeight=100*parseFloat(p/g)+"vw",d.style.minWidth=100*parseFloat(g/p)+"vh",d.parentNode.classList.remove("tf_lazy"))}};window.addEventListener("message",h,{passive:!0});return a},u=function(a,f,b){if(!1===m&&b){b=b.toString();
var e=n(a),c=new URL(f);a="tb_ytb_"+b;let d="https://www.youtube-nocookie.com/embed/"+b+"?modestbranding=1&playsinline=1&controls=0&showinfo=0&rel=0&disablekb&fs=0&version=3&allowfullscreen=false&wmode=transparent&iv_load_policy=3&playerapiid="+a+"&playlist="+b;b=640;f=360;let h=!1;e.loop&&(d+="&loop=1");!1!==e.autoplay&&(d+="&autoplay=1",h=e.mute=!0);!0===e.mute&&(d+="&mute=1");if(c){e=c.searchParams.get("t");const g=c.searchParams.get("w");c=c.searchParams.get("h");e&&(d+="&start="+parseInt(e));
g&&(b=g);c&&(f=c)}a=q(a,d,"ytb",h);c=a.firstChild;c.style.minHeight=100*parseFloat(f/b)+"vw";c.style.minWidth=100*parseFloat(b/f)+"vh";c.addEventListener("load",function(){this.parentNode.classList.remove("tf_lazy")},{passive:!0,once:!0});return a}};k.on("tb_fullwidth_video_init",function(a){r(function(){a instanceof jQuery&&(a=a.get());for(let c=a.length-1;-1<c;--c){var f=a[c].getAttribute("data-fullwidthvideo");if(f){var b=k.parseVideo(f),e=a[c].getElementsByClassName("tb_fullwidth_video")[0];e&&
e.parentNode===a[c]&&a[c].removeChild(e);if("youtube"===b.type)b=u(a[c],f,b.id);else if("vimeo"===b.type)b=t(a[c],f,b.id);else if(b=a[c],!1===m||"play"===b.getAttribute("data-playonmobile")){e=!0===m?{loop:"unloop"!==b.getAttribute("data-unloopvideo"),mute:!0}:n(b);const d=l.createElement("div"),h=l.createElement("video");d.className="tb_fullwidth_video tb_local_video tf_abs tf_w tf_h";h.className="tf_w tf_h";h.setAttribute("type","video/"+f.split(".").pop().split("?")[0]);h.preload="auto";"no"===
b.dataset.autoplay?e.autoplay=!1:h.setAttribute("data-autoplay",!0);h.setAttribute("webkit-playsinline",1);h.setAttribute("playsinline",!0);h.src=f;!1!==e.autoplay&&(h.autoplay=!0,e.mute=!0);!0===e.mute&&(h.muted=!0);!0===e.loop&&(h.loop=!0);d.appendChild(h);b=d}else b=void 0;b&&(a[c].insertBefore(b,a[c].firstChild),k.trigger("tb_fullwidth_video_added",[a[c]]))}}})})})(Themify,document);
