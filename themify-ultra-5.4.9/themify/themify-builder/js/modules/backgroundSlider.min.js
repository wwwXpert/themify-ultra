'use strict';(function(m,b,y,r){var t=r.backgroundSlider&&r.backgroundSlider.autoplay?parseInt(r.backgroundSlider.autoplay.autoplay,10):5E3;const x=function(a){10>=t&&(t*=1E3);a instanceof jQuery&&(a=a.get());for(let e=a.length-1;-1<e;--e){let v=m(a[e]),k=v.parent(),f=a[e].getElementsByTagName("li"),n=[];for(var c=f.length-1;-1<c;--c)n.push({url:f[c].getAttribute("data-bg"),alt:f[c].getAttribute("data-bg-alt")});k.tb_backstretch(n,{speed:parseInt(a[e].getAttribute("data-sliderspeed")),duration:t,
mode:a[e].getAttribute("data-bgmode")});let p=k.data("tb_backstretch"),q=v.find(".row-slider-slides > li");f=a[e].querySelectorAll(".row-slider-prev,.row-slider-next,.row-slider-dot");for(c=f.length-1;-1<c;--c)f[c].classList.contains("row-slider-dot")?f[c].addEventListener("click",function(){p.show(m(this).data("index"))},{passive:!0}):f[c].addEventListener("click",function(d){d.preventDefault();m(this).hasClass("row-slider-prev")?p.prev():p.next()});q[0]&&(q[0].classList.add("row-slider-dot-active"),
k.on("tb_backstretch.show",function(d,g){d=q.eq(p.index);d[0]&&(q.removeClass("row-slider-dot-active"),d.addClass("row-slider-dot-active"))}));if("kenburns-effect"===a[e].getAttribute("data-bgmode")){let d,g=0;const w=4<n.length?4:n.length;k.on("tb_backstretch.before",function(l,h){setTimeout(function(){d!=h.index&&(h.$wrap.find("img").last().addClass("kenburns-effect"+(g+1>w?g=1:++g)),d=h.index)},50)}).on("tb_backstretch.after",function(l,h){l=h.$wrap.find("img").last();/kenburns-effect\d/.test(l.attr("class"))||
(l.addClass("kenburns-effect"+(g+1>w?g=1:++g)),d=h.index)});if(b.is_builder_active)k.on("backstretch.show",function(l,h,z){k.css("zIndex",0)})}}},u=function(a){!0===b.cssLazy.tb_bgslider_css&&!0===b.jsLazy.tf_backstretch&&x(a)};b.on("tb_bgslider_init",function(a){!0!==b.cssLazy.tb_bgslider_css&&b.LoadCss(ThemifyBuilderModuleJs.cssUrl+"backgroundSlider.css",null,null,null,function(){b.cssLazy.tb_bgslider_css=!0;u(a)});!0!==b.jsLazy.tf_backstretch&&b.LoadAsync(b.url+"/js/backstretch.themify-version.min.js",
function(){b.jsLazy.tf_backstretch=!0;u(a)},"2.0.4",null,function(){return"undefined"!==typeof m.fn.tb_backstretch});u(a)})})(jQuery,Themify,themify_vars,tbLocalScript);
