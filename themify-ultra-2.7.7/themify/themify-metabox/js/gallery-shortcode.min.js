var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,c){a instanceof String&&(a=String(a));for(var b=a.length,f=0;f<b;f++){var d=a[f];if(e.call(c,d,f,a))return{i:f,v:d}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,c){a!=Array.prototype&&a!=Object.prototype&&(a[e]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,c,b){if(e){c=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var f=a[b];f in c||(c[f]={});c=c[f]}a=a[a.length-1];b=c[a];e=e(b);e!=b&&null!=e&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
(function(a){a({init:function(){this.galleryShortcode()},galleryShortcode:function(){var e=wp.media.gallery.shortcode,c=wp.media.gallery,b;a(".themify-gallery-shortcode-btn").on("click",function(f){var d=a(this).closest(".themify_field").find(".themify-gallery-shortcode-input");d.html()&&(d.val(d.html()),d.html(""),d.text(""));b?b.open():b=0<a.trim(d.val()).length?c.edit(a.trim(d.val())):wp.media.frames.file_frame=wp.media({frame:"post",state:"gallery-edit",title:wp.media.view.l10n.editGalleryTitle,
editing:!0,multiple:!0,selection:!1});wp.media.gallery.shortcode=function(a){var c=a.props.toJSON(),b=_.pick(c,"orderby","order");a.gallery&&_.extend(b,a.gallery.toJSON());b.ids=a.pluck("id");c.uploadedTo&&(b.id=c.uploadedTo);b._orderbyRandom&&(b.orderby="rand");delete b._orderbyRandom;b.ids&&"post__in"===b.orderby&&delete b.orderby;_.each(wp.media.gallery.defaults,function(a,c){a===b[c]&&delete b[c]});a=new wp.shortcode({tag:"gallery",attrs:b,type:"single"});d.val(a.string());wp.media.gallery.shortcode=
e;return a};b.on("update",function(a){a=wp.media.gallery.shortcode(a).string().slice(1,-1);d.val("["+a+"]")});0===a.trim(d.val()).length&&a(".media-menu").find(".media-menu-item").last().trigger("click");f.preventDefault()})}}.init)})(jQuery);
